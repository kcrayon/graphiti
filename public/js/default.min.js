/*
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2011-07-28
 @link    http://jscolor.com
*/
(function(h,f){function b(a,c,g){if(g===f&&1===a.nodeType)if(g="data-"+c.replace(Ua,"-$1").toLowerCase(),g=a.getAttribute(g),"string"===typeof g){try{g="true"===g?!0:"false"===g?!1:"null"===g?null:!d.isNaN(g)?parseFloat(g):Va.test(g)?d.parseJSON(g):g}catch(k){}d.data(a,c,g)}else g=f;return g}function l(a){for(var c in a)if("toJSON"!==c)return!1;return!0}function m(a,c,g){var k=c+"defer",p=c+"queue",w=c+"mark",e=d.data(a,k,f,!0);e&&(("queue"===g||!d.data(a,p,f,!0))&&("mark"===g||!d.data(a,w,f,!0)))&&
setTimeout(function(){!d.data(a,p,f,!0)&&!d.data(a,w,f,!0)&&(d.removeData(a,k,!0),e.resolve())},0)}function t(){return!1}function r(){return!0}function y(a,c,g){var k=d.extend({},g[0]);k.type=a;k.originalEvent={};k.liveFired=f;d.event.handle.call(c,k);k.isDefaultPrevented()&&g[0].preventDefault()}function E(a){var c,g,k,p,w,e,f,b,n,h,l,q=[];p=[];w=d._data(this,"events");if(!(a.liveFired===this||!w||!w.live||a.target.disabled||a.button&&"click"===a.type)){a.namespace&&(l=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+
"(\\.|$)"));a.liveFired=this;var m=w.live.slice(0);for(f=0;f<m.length;f++)w=m[f],w.origType.replace(ka,"")===a.type?p.push(w.selector):m.splice(f--,1);p=d(a.target).closest(p,a.currentTarget);b=0;for(n=p.length;b<n;b++){h=p[b];for(f=0;f<m.length;f++)if(w=m[f],h.selector===w.selector&&(!l||l.test(w.namespace))&&!h.elem.disabled){e=h.elem;k=null;if("mouseenter"===w.preType||"mouseleave"===w.preType)a.type=w.preType,(k=d(a.relatedTarget).closest(w.selector)[0])&&d.contains(e,k)&&(k=e);(!k||k!==e)&&q.push({elem:e,
handleObj:w,level:h.level})}}b=0;for(n=q.length;b<n;b++){p=q[b];if(g&&p.level>g)break;a.currentTarget=p.elem;a.data=p.handleObj.data;a.handleObj=p.handleObj;l=p.handleObj.origHandler.apply(p.elem,arguments);if(!1===l||a.isPropagationStopped())if(g=p.level,!1===l&&(c=!1),a.isImmediatePropagationStopped())break}return c}}function I(a,c){return(a&&"*"!==a?a+".":"")+c.replace(Wa,"`").replace(Xa,"&")}function C(a,c,g){c=c||0;if(d.isFunction(c))return d.grep(a,function(a,d){return!!c.call(a,d,a)===g});
if(c.nodeType)return d.grep(a,function(a,d){return a===c===g});if("string"===typeof c){var k=d.grep(a,function(a){return 1===a.nodeType});if(Ya.test(c))return d.filter(c,k,!g);c=d.filter(c,k)}return d.grep(a,function(a,k){return 0<=d.inArray(a,c)===g})}function K(a,c){if(1===c.nodeType&&d.hasData(a)){var g=d.expando,k=d.data(a),p=d.data(c,k);if(k=k[g]){var w=k.events,p=p[g]=d.extend({},k);if(w){delete p.handle;p.events={};for(var e in w){g=0;for(k=w[e].length;g<k;g++)d.event.add(c,e+(w[e][g].namespace?
".":"")+w[e][g].namespace,w[e][g],w[e][g].data)}}}}}function u(a,c){var g;if(1===c.nodeType){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(a);g=c.nodeName.toLowerCase();if("object"===g)c.outerHTML=a.outerHTML;else if("input"===g&&("checkbox"===a.type||"radio"===a.type))a.checked&&(c.defaultChecked=c.checked=a.checked),c.value!==a.value&&(c.value=a.value);else if("option"===g)c.selected=a.defaultSelected;else if("input"===g||"textarea"===g)c.defaultValue=a.defaultValue;
c.removeAttribute(d.expando)}}function A(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function F(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function e(a){d.nodeName(a,"input")?F(a):"getElementsByTagName"in a&&d.grep(a.getElementsByTagName("input"),F)}function n(a,c){c.src?d.ajax({url:c.src,async:!1,dataType:"script"}):d.globalEval((c.text||c.textContent||c.innerHTML||"").replace(Za,"/*$0*/"));c.parentNode&&
c.parentNode.removeChild(c)}function q(a,c,g){var k="width"===c?a.offsetWidth:a.offsetHeight,p="width"===c?$a:ab;if(0<k)return"border"!==g&&d.each(p,function(){g||(k-=parseFloat(d.css(a,"padding"+this))||0);k="margin"===g?k+(parseFloat(d.css(a,g+this))||0):k-(parseFloat(d.css(a,"border"+this+"Width"))||0)}),k+"px";k=V(a,c,c);if(0>k||null==k)k=a.style[c]||0;k=parseFloat(k)||0;g&&d.each(p,function(){k+=parseFloat(d.css(a,"padding"+this))||0;"padding"!==g&&(k+=parseFloat(d.css(a,"border"+this+"Width"))||
0);"margin"===g&&(k+=parseFloat(d.css(a,g+this))||0)});return k+"px"}function B(a){return function(c,g){"string"!==typeof c&&(g=c,c="*");if(d.isFunction(g))for(var k=c.toLowerCase().split(va),p=0,w=k.length,e,f;p<w;p++)e=k[p],(f=/^\+/.test(e))&&(e=e.substr(1)||"*"),e=a[e]=a[e]||[],e[f?"unshift":"push"](g)}}function L(a,c,d,k,p,w){p=p||c.dataTypes[0];w=w||{};w[p]=!0;p=a[p];for(var e=0,b=p?p.length:0,n=a===la,h;e<b&&(n||!h);e++)h=p[e](c,d,k),"string"===typeof h&&(!n||w[h]?h=f:(c.dataTypes.unshift(h),
h=L(a,c,d,k,h,w)));if((n||!h)&&!w["*"])h=L(a,c,d,k,"*",w);return h}function z(a,c){var g,k,p=d.ajaxSettings.flatOptions||{};for(g in c)c[g]!==f&&((p[g]?a:k||(k={}))[g]=c[g]);k&&d.extend(!0,a,k)}function J(a,c,g,k){if(d.isArray(c))d.each(c,function(c,p){g||bb.test(a)?k(a,p):J(a+"["+("object"===typeof p||d.isArray(p)?c:"")+"]",p,g,k)});else if(!g&&null!=c&&"object"===typeof c)for(var p in c)J(a+"["+p+"]",c[p],g,k);else k(a,c)}function M(){try{return new h.XMLHttpRequest}catch(a){}}function x(){setTimeout(D,
0);return fa=d.now()}function D(){fa=f}function G(a,c){var g={};d.each(wa.concat.apply([],wa.slice(0,c)),function(){g[this]=a});return g}function W(a){if(!ma[a]){var c=v.body,g=d("<"+a+">").appendTo(c),k=g.css("display");g.remove();if("none"===k||""===k){O||(O=v.createElement("iframe"),O.frameBorder=O.width=O.height=0);c.appendChild(O);if(!X||!O.createElement)X=(O.contentWindow||O.contentDocument).document,X.write(("CSS1Compat"===v.compatMode?"<!doctype html>":"")+"<html><body>"),X.close();g=X.createElement(a);
X.body.appendChild(g);k=d.css(g,"display");c.removeChild(O)}ma[a]=k}return ma[a]}function s(a){return d.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var v=h.document,R=h.navigator,Y=h.location,d=function(){function a(){if(!c.isReady){try{v.documentElement.doScroll("left")}catch(d){setTimeout(a,1);return}c.ready()}}var c=function(a,d){return new c.fn.init(a,d,p)},d=h.jQuery,k=h.$,p,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,e=/\S/,b=/^\s+/,n=/\s+$/,l=/\d/,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
m=/^[\],:{}\s]*$/,x=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,B=/(webkit)[ \/]([\w.]+)/,u=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,D=/(mozilla)(?:.*? rv:([\w.]+))?/,ba=/-([a-z]|[0-9])/ig,cb=/^-ms-/,db=function(a,c){return(c+"").toUpperCase()},ca=R.userAgent,ga,Z,eb=Object.prototype.toString,na=Object.prototype.hasOwnProperty,G=Array.prototype.push,C=Array.prototype.slice,L=String.prototype.trim,
z=Array.prototype.indexOf,xa={};c.fn=c.prototype={constructor:c,init:function(a,d,g){var k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!d&&v.body)return this.context=v,this[0]=v.body,this.selector=a,this.length=1,this;if("string"===typeof a){if((k="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:w.exec(a))&&(k[1]||!d)){if(k[1])return g=(d=d instanceof c?d[0]:d)?d.ownerDocument||d:v,(a=q.exec(a))?c.isPlainObject(d)?(a=[v.createElement(a[1])],
c.fn.attr.call(a,d,!0)):a=[g.createElement(a[1])]:(a=c.buildFragment([k[1]],[g]),a=(a.cacheable?c.clone(a.fragment):a.fragment).childNodes),c.merge(this,a);if((d=v.getElementById(k[2]))&&d.parentNode){if(d.id!==k[2])return g.find(a);this.length=1;this[0]=d}this.context=v;this.selector=a;return this}return!d||d.jquery?(d||g).find(a):this.constructor(d).find(a)}if(c.isFunction(a))return g.ready(a);a.selector!==f&&(this.selector=a.selector,this.context=a.context);return c.makeArray(a,this)},selector:"",
jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return C.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,d,g){var k=this.constructor();c.isArray(a)?G.apply(k,a):c.merge(k,a);k.prevObject=this;k.context=this.context;"find"===d?k.selector=this.selector+(this.selector?" ":"")+g:d&&(k.selector=this.selector+"."+d+"("+g+")");return k},each:function(a,d){return c.each(this,a,d)},ready:function(a){c.bindReady();
ga.done(a);return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(C.apply(this,arguments),"slice",C.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(c,d){return a.call(c,d,c)}))},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a,
d,g,k,p,w=arguments[0]||{},e=1,b=arguments.length,ba=!1;"boolean"===typeof w&&(ba=w,w=arguments[1]||{},e=2);"object"!==typeof w&&!c.isFunction(w)&&(w={});b===e&&(w=this,--e);for(;e<b;e++)if(null!=(a=arguments[e]))for(d in a)g=w[d],k=a[d],w!==k&&(ba&&k&&(c.isPlainObject(k)||(p=c.isArray(k)))?(p?(p=!1,g=g&&c.isArray(g)?g:[]):g=g&&c.isPlainObject(g)?g:{},w[d]=c.extend(ba,g,k)):k!==f&&(w[d]=k));return w};c.extend({noConflict:function(a){h.$===c&&(h.$=k);a&&h.jQuery===c&&(h.jQuery=d);return c},isReady:!1,
readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(!0===a&&!--c.readyWait||!0!==a&&!c.isReady){if(!v.body)return setTimeout(c.ready,1);c.isReady=!0;!0!==a&&0<--c.readyWait||(ga.resolveWith(v,[c]),c.fn.trigger&&c(v).trigger("ready").unbind("ready"))}},bindReady:function(){if(!ga){ga=c._Deferred();if("complete"===v.readyState)return setTimeout(c.ready,1);if(v.addEventListener)v.addEventListener("DOMContentLoaded",Z,!1),h.addEventListener("load",c.ready,!1);else if(v.attachEvent){v.attachEvent("onreadystatechange",
Z);h.attachEvent("onload",c.ready);var d=!1;try{d=null==h.frameElement}catch(g){}v.documentElement.doScroll&&d&&a()}}},isFunction:function(a){return"function"===c.type(a)},isArray:Array.isArray||function(a){return"array"===c.type(a)},isWindow:function(a){return a&&"object"===typeof a&&"setInterval"in a},isNaN:function(a){return null==a||!l.test(a)||isNaN(a)},type:function(a){return null==a?String(a):xa[eb.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;
try{if(a.constructor&&!na.call(a,"constructor")&&!na.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var g in a);return g===f||na.call(a,g)},isEmptyObject:function(a){for(var c in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(a){if("string"!==typeof a||!a)return null;a=c.trim(a);if(h.JSON&&h.JSON.parse)return h.JSON.parse(a);if(m.test(a.replace(x,"@").replace(r,"]").replace(s,"")))return(new Function("return "+a))();c.error("Invalid JSON: "+a)},parseXML:function(a){var d,
g;try{h.DOMParser?(g=new DOMParser,d=g.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(k){d=f}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&c.error("Invalid XML: "+a);return d},noop:function(){},globalEval:function(a){a&&e.test(a)&&(h.execScript||function(a){h.eval.call(h,a)})(a)},camelCase:function(a){return a.replace(cb,"ms-").replace(ba,db)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toUpperCase()===
c.toUpperCase()},each:function(a,d,g){var k,p=0,w=a.length,e=w===f||c.isFunction(a);if(g)if(e)for(k in a){if(!1===d.apply(a[k],g))break}else for(;p<w&&!1!==d.apply(a[p++],g););else if(e)for(k in a){if(!1===d.call(a[k],k,a[k]))break}else for(;p<w&&!1!==d.call(a[p],p,a[p++]););return a},trim:L?function(a){return null==a?"":L.call(a)}:function(a){return null==a?"":a.toString().replace(b,"").replace(n,"")},makeArray:function(a,d){var g=d||[];if(null!=a){var k=c.type(a);null==a.length||"string"===k||"function"===
k||"regexp"===k||c.isWindow(a)?G.call(g,a):c.merge(g,a)}return g},inArray:function(a,c){if(!c)return-1;if(z)return z.call(c,a);for(var d=0,g=c.length;d<g;d++)if(c[d]===a)return d;return-1},merge:function(a,c){var d=a.length,g=0;if("number"===typeof c.length)for(var k=c.length;g<k;g++)a[d++]=c[g];else for(;c[g]!==f;)a[d++]=c[g++];a.length=d;return a},grep:function(a,c,d){var g=[],k;d=!!d;for(var p=0,w=a.length;p<w;p++)k=!!c(a[p],p),d!==k&&g.push(a[p]);return g},map:function(a,d,g){var k,p,w=[],e=0,
b=a.length;if(a instanceof c||b!==f&&"number"===typeof b&&(0<b&&a[0]&&a[b-1]||0===b||c.isArray(a)))for(;e<b;e++)k=d(a[e],e,g),null!=k&&(w[w.length]=k);else for(p in a)k=d(a[p],p,g),null!=k&&(w[w.length]=k);return w.concat.apply([],w)},guid:1,proxy:function(a,d){if("string"===typeof d){var g=a[d];d=a;a=g}if(!c.isFunction(a))return f;var k=C.call(arguments,2),g=function(){return a.apply(d,k.concat(C.call(arguments)))};g.guid=a.guid=a.guid||g.guid||c.guid++;return g},access:function(a,d,g,k,p,w){var e=
a.length;if("object"===typeof d){for(var b in d)c.access(a,b,d[b],k,p,g);return a}if(g!==f){k=!w&&k&&c.isFunction(g);for(b=0;b<e;b++)p(a[b],d,k?g.call(a[b],b,p(a[b],d)):g,w);return a}return e?p(a[0],d):f},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=B.exec(a)||u.exec(a)||t.exec(a)||0>a.indexOf("compatible")&&D.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(c,d){return new a.fn.init(c,d)}c.extend(!0,a,this);a.superclass=this;
a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(g,k){k&&(k instanceof c&&!(k instanceof a))&&(k=a(k));return c.fn.init.call(this,g,k,d)};a.fn.init.prototype=a.fn;var d=a(v);return a},browser:{}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,c){xa["[object "+c+"]"]=c.toLowerCase()});ca=c.uaMatch(ca);ca.browser&&(c.browser[ca.browser]=!0,c.browser.version=ca.version);c.browser.webkit&&(c.browser.safari=!0);e.test("\u00a0")&&(b=/^[\s\xA0]+/,
n=/[\s\xA0]+$/);p=c(v);v.addEventListener?Z=function(){v.removeEventListener("DOMContentLoaded",Z,!1);c.ready()}:v.attachEvent&&(Z=function(){"complete"===v.readyState&&(v.detachEvent("onreadystatechange",Z),c.ready())});return c}(),oa="done fail isResolved isRejected promise then always pipe".split(" "),ya=[].slice;d.extend({_Deferred:function(){var a=[],c,g,k,p={done:function(){if(!k){var g=arguments,e,b,f,n,h;c&&(h=c,c=0);e=0;for(b=g.length;e<b;e++)f=g[e],n=d.type(f),"array"===n?p.done.apply(p,
f):"function"===n&&a.push(f);h&&p.resolveWith(h[0],h[1])}return this},resolveWith:function(d,p){if(!k&&!c&&!g){p=p||[];g=1;try{for(;a[0];)a.shift().apply(d,p)}finally{c=[d,p],g=0}}return this},resolve:function(){p.resolveWith(this,arguments);return this},isResolved:function(){return!(!g&&!c)},cancel:function(){k=1;a=[];return this}};return p},Deferred:function(a){var c=d._Deferred(),g=d._Deferred(),k;d.extend(c,{then:function(a,d){c.done(a).fail(d);return this},always:function(){return c.done.apply(c,
arguments).fail.apply(this,arguments)},fail:g.done,rejectWith:g.resolveWith,reject:g.resolve,isRejected:g.isResolved,pipe:function(a,g){return d.Deferred(function(k){d.each({done:[a,"resolve"],fail:[g,"reject"]},function(a,g){var p=g[0],w=g[1],e;if(d.isFunction(p))c[a](function(){if((e=p.apply(this,arguments))&&d.isFunction(e.promise))e.promise().then(k.resolve,k.reject);else k[w+"With"](this===c?k:this,[e])});else c[a](k[w])})}).promise()},promise:function(a){if(null==a){if(k)return k;k=a={}}for(var d=
oa.length;d--;)a[oa[d]]=c[oa[d]];return a}});c.done(g.cancel).fail(c.cancel);delete c.cancel;a&&a.call(c,c);return c},when:function(a){function c(a){return function(c){g[a]=1<arguments.length?ya.call(arguments,0):c;--e||b.resolveWith(b,ya.call(g,0))}}var g=arguments,k=0,p=g.length,e=p,b=1>=p&&a&&d.isFunction(a.promise)?a:d.Deferred();if(1<p){for(;k<p;k++)g[k]&&d.isFunction(g[k].promise)?g[k].promise().then(c(k),b.reject):--e;e||b.resolveWith(b,g)}else b!==a&&b.resolveWith(b,p?[a]:[]);return b.promise()}});
d.support=function(){var a=v.createElement("div"),c=v.documentElement,g,k,p,e,b,f;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";g=a.getElementsByTagName("*");k=a.getElementsByTagName("a")[0];if(!g||!g.length||!k)return{};p=v.createElement("select");e=p.appendChild(v.createElement("option"));g=a.getElementsByTagName("input")[0];b={leadingWhitespace:3===a.firstChild.nodeType,tbody:!a.getElementsByTagName("tbody").length,
htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(k.getAttribute("style")),hrefNormalized:"/a"===k.getAttribute("href"),opacity:/^0.55$/.test(k.style.opacity),cssFloat:!!k.style.cssFloat,checkOn:"on"===g.value,optSelected:e.selected,getSetAttribute:"t"!==a.className,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};g.checked=!0;b.noCloneChecked=g.cloneNode(!0).checked;p.disabled=
!0;b.optDisabled=!e.disabled;try{delete a.test}catch(n){b.deleteExpando=!1}!a.addEventListener&&(a.attachEvent&&a.fireEvent)&&(a.attachEvent("onclick",function(){b.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick"));g=v.createElement("input");g.value="t";g.setAttribute("type","radio");b.radioValue="t"===g.value;g.setAttribute("checked","checked");a.appendChild(g);k=v.createDocumentFragment();k.appendChild(a.firstChild);b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="";
a.style.width=a.style.paddingLeft="1px";p=v.getElementsByTagName("body")[0];k=v.createElement(p?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};p&&d.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in e)k.style[f]=e[f];k.appendChild(a);c=p||c;c.insertBefore(k,c.firstChild);b.appendChecked=g.checked;b.boxModel=2===a.offsetWidth;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,b.inlineBlockNeedsLayout=2===a.offsetWidth,a.style.display=
"",a.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=2!==a.offsetWidth);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";p=a.getElementsByTagName("td");g=0===p[0].offsetHeight;p[0].style.display="";p[1].style.display="none";b.reliableHiddenOffsets=g&&0===p[0].offsetHeight;a.innerHTML="";v.defaultView&&v.defaultView.getComputedStyle&&(g=v.createElement("div"),g.style.width="0",g.style.marginRight="0",a.appendChild(g),b.reliableMarginRight=
0===(parseInt((v.defaultView.getComputedStyle(g,null)||{marginRight:0}).marginRight,10)||0));k.innerHTML="";c.removeChild(k);if(a.attachEvent)for(f in{submit:1,change:1,focusin:1})c="on"+f,g=c in a,g||(a.setAttribute(c,"return;"),g="function"===typeof a[c]),b[f+"Bubbles"]=g;k=k=p=e=p=g=a=g=null;return b}();d.boxModel=d.support.boxModel;var Va=/^(?:\{.*\}|\[.*\])$/,Ua=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:!0},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!l(a)},data:function(a,c,g,k){if(d.acceptData(a)){var p=d.expando,e="string"===typeof c,b=a.nodeType,n=b?d.cache:a,h=b?a[d.expando]:a[d.expando]&&d.expando;if(h&&(!k||!h||!n[h]||n[h][p])||!(e&&g===f)){h||(b?a[d.expando]=h=++d.uuid:h=d.expando);n[h]||(n[h]={},b||(n[h].toJSON=d.noop));if("object"===typeof c||"function"===typeof c)k?n[h][p]=d.extend(n[h][p],c):n[h]=d.extend(n[h],c);a=n[h];k&&(a[p]||(a[p]={}),a=
a[p]);g!==f&&(a[d.camelCase(c)]=g);if("events"===c&&!a[c])return a[p]&&a[p].events;e?(g=a[c],null==g&&(g=a[d.camelCase(c)])):g=a;return g}}},removeData:function(a,c,g){if(d.acceptData(a)){var k,p=d.expando,e=a.nodeType,b=e?d.cache:a,f=e?a[d.expando]:d.expando;if(b[f]){if(c&&(k=g?b[f][p]:b[f]))if(k[c]||(c=d.camelCase(c)),delete k[c],!l(k))return;if(g&&(delete b[f][p],!l(b[f])))return;c=b[f][p];d.support.deleteExpando||!b.setInterval?delete b[f]:b[f]=null;c?(b[f]={},e||(b[f].toJSON=d.noop),b[f][p]=
c):e&&(d.support.deleteExpando?delete a[d.expando]:a.removeAttribute?a.removeAttribute(d.expando):a[d.expando]=null)}}},_data:function(a,c,g){return d.data(a,c,g,!0)},acceptData:function(a){if(a.nodeName){var c=d.noData[a.nodeName.toLowerCase()];if(c)return!(!0===c||a.getAttribute("classid")!==c)}return!0}});d.fn.extend({data:function(a,c){var g=null;if("undefined"===typeof a){if(this.length&&(g=d.data(this[0]),1===this[0].nodeType))for(var k=this[0].attributes,p,e=0,n=k.length;e<n;e++)p=k[e].name,
0===p.indexOf("data-")&&(p=d.camelCase(p.substring(5)),b(this[0],p,g[p]));return g}if("object"===typeof a)return this.each(function(){d.data(this,a)});var h=a.split(".");h[1]=h[1]?"."+h[1]:"";return c===f?(g=this.triggerHandler("getData"+h[1]+"!",[h[0]]),g===f&&this.length&&(g=d.data(this[0],a),g=b(this[0],a,g)),g===f&&h[1]?this.data(h[0]):g):this.each(function(){var g=d(this),k=[h[0],c];g.triggerHandler("setData"+h[1]+"!",k);d.data(this,a,c);g.triggerHandler("changeData"+h[1]+"!",k)})},removeData:function(a){return this.each(function(){d.removeData(this,
a)})}});d.extend({_mark:function(a,c){a&&(c=(c||"fx")+"mark",d.data(a,c,(d.data(a,c,f,!0)||0)+1,!0))},_unmark:function(a,c,g){!0!==a&&(g=c,c=a,a=!1);if(c){g=g||"fx";var k=g+"mark";(a=a?0:(d.data(c,k,f,!0)||1)-1)?d.data(c,k,a,!0):(d.removeData(c,k,!0),m(c,g,"mark"))}},queue:function(a,c,g){if(a){c=(c||"fx")+"queue";var k=d.data(a,c,f,!0);g&&(!k||d.isArray(g)?k=d.data(a,c,d.makeArray(g),!0):k.push(g));return k||[]}},dequeue:function(a,c){c=c||"fx";var g=d.queue(a,c),k=g.shift();"inprogress"===k&&(k=
g.shift());k&&("fx"===c&&g.unshift("inprogress"),k.call(a,function(){d.dequeue(a,c)}));g.length||(d.removeData(a,c+"queue",!0),m(a,c,"queue"))}});d.fn.extend({queue:function(a,c){"string"!==typeof a&&(c=a,a="fx");return c===f?d.queue(this[0],a):this.each(function(){var g=d.queue(this,a,c);"fx"===a&&"inprogress"!==g[0]&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,c){a=d.fx?d.fx.speeds[a]||a:a;c=c||"fx";return this.queue(c,function(){var g=
this;setTimeout(function(){d.dequeue(g,c)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function g(){--b||k.resolveWith(p,[p])}"string"!==typeof a&&(a=f);a=a||"fx";for(var k=d.Deferred(),p=this,e=p.length,b=1,n=a+"defer",h=a+"queue",l=a+"mark",q;e--;)if(q=d.data(p[e],n,f,!0)||(d.data(p[e],h,f,!0)||d.data(p[e],l,f,!0))&&d.data(p[e],n,d._Deferred(),!0))b++,q.done(g);g();return k.promise()}});var za=/[\n\t\r]/g,pa=/\s+/,fb=/\r/g,gb=/^(?:button|input)$/i,hb=/^(?:button|input|object|select|textarea)$/i,
ib=/^a(?:rea)?$/i,Aa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,N,Ba;d.fn.extend({attr:function(a,c){return d.access(this,a,c,!0,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,c){return d.access(this,a,c,!0,d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=f,delete this[a]}catch(c){}})},addClass:function(a){var c,g,k,p,e,b,
f;if(d.isFunction(a))return this.each(function(c){d(this).addClass(a.call(this,c,this.className))});if(a&&"string"===typeof a){c=a.split(pa);g=0;for(k=this.length;g<k;g++)if(p=this[g],1===p.nodeType)if(!p.className&&1===c.length)p.className=a;else{e=" "+p.className+" ";b=0;for(f=c.length;b<f;b++)~e.indexOf(" "+c[b]+" ")||(e+=c[b]+" ");p.className=d.trim(e)}}return this},removeClass:function(a){var c,g,k,p,e,b,n;if(d.isFunction(a))return this.each(function(c){d(this).removeClass(a.call(this,c,this.className))});
if(a&&"string"===typeof a||a===f){c=(a||"").split(pa);g=0;for(k=this.length;g<k;g++)if(p=this[g],1===p.nodeType&&p.className)if(a){e=(" "+p.className+" ").replace(za," ");b=0;for(n=c.length;b<n;b++)e=e.replace(" "+c[b]+" "," ");p.className=d.trim(e)}else p.className=""}return this},toggleClass:function(a,c){var g=typeof a,k="boolean"===typeof c;return d.isFunction(a)?this.each(function(g){d(this).toggleClass(a.call(this,g,this.className,c),c)}):this.each(function(){if("string"===g)for(var p,e=0,b=
d(this),f=c,n=a.split(pa);p=n[e++];)f=k?f:!b.hasClass(p),b[f?"addClass":"removeClass"](p);else if("undefined"===g||"boolean"===g)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===a?"":d._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&-1<(" "+this[c].className+" ").replace(za," ").indexOf(a))return!0;return!1},val:function(a){var c,g,k=this[0];if(!arguments.length){if(k){if((c=
d.valHooks[k.nodeName.toLowerCase()]||d.valHooks[k.type])&&"get"in c&&(g=c.get(k,"value"))!==f)return g;g=k.value;return"string"===typeof g?g.replace(fb,""):null==g?"":g}return f}var p=d.isFunction(a);return this.each(function(g){var k=d(this);if(1===this.nodeType&&(g=p?a.call(this,g,k.val()):a,null==g?g="":"number"===typeof g?g+="":d.isArray(g)&&(g=d.map(g,function(a){return null==a?"":a+""})),c=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type],!c||!("set"in c)||c.set(this,g,"value")===
f))this.value=g})}});d.extend({valHooks:{option:{get:function(a){var c=a.attributes.value;return!c||c.specified?a.value:a.text}},select:{get:function(a){var c,g=a.selectedIndex,k=[],p=a.options;a="select-one"===a.type;if(0>g)return null;for(var e=a?g:0,b=a?g+1:p.length;e<b;e++)if(c=p[e],c.selected&&(d.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!d.nodeName(c.parentNode,"optgroup"))){c=d(c).val();if(a)return c;k.push(c)}return a&&!k.length&&p.length?
d(p[g]).val():k},set:function(a,c){var g=d.makeArray(c);d(a).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),g)});g.length||(a.selectedIndex=-1);return g}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,c,g,k){var p=a.nodeType;if(!a||3===p||8===p||2===p)return f;if(k&&c in d.attrFn)return d(a)[c](g);if(!("getAttribute"in a))return d.prop(a,c,g);var e,b;if(k=1!==p||!d.isXMLDoc(a))c=d.attrFix[c]||c,(b=
d.attrHooks[c])||(Aa.test(c)?b=Ba:N&&(b=N));if(g!==f){if(null===g)return d.removeAttr(a,c),f;if(b&&"set"in b&&k&&(e=b.set(a,g,c))!==f)return e;a.setAttribute(c,""+g);return g}if(b&&"get"in b&&k&&null!==(e=b.get(a,c)))return e;e=a.getAttribute(c);return null===e?f:e},removeAttr:function(a,c){var g;if(1===a.nodeType&&(c=d.attrFix[c]||c,d.attr(a,c,""),a.removeAttribute(c),Aa.test(c)&&(g=d.propFix[c]||c)in a))a[g]=!1},attrHooks:{type:{set:function(a,c){if(gb.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");
else if(!d.support.radioValue&&"radio"===c&&d.nodeName(a,"input")){var g=a.value;a.setAttribute("type",c);g&&(a.value=g);return c}}},value:{get:function(a,c){return N&&d.nodeName(a,"button")?N.get(a,c):c in a?a.value:null},set:function(a,c,g){if(N&&d.nodeName(a,"button"))return N.set(a,c,g);a.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,g){var k=a.nodeType;if(!a||3===k||8===k||2===k)return f;var p,e;if(1!==k||!d.isXMLDoc(a))c=d.propFix[c]||c,e=d.propHooks[c];return g!==f?e&&"set"in e&&(p=e.set(a,g,c))!==f?p:a[c]=g:e&&"get"in e&&null!==(p=e.get(a,c))?p:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):hb.test(a.nodeName)||ib.test(a.nodeName)&&a.href?0:f}}}});d.attrHooks.tabIndex=d.propHooks.tabIndex;
Ba={get:function(a,c){var g;return!0===d.prop(a,c)||(g=a.getAttributeNode(c))&&!1!==g.nodeValue?c.toLowerCase():f},set:function(a,c,g){!1===c?d.removeAttr(a,g):(c=d.propFix[g]||g,c in a&&(a[c]=!0),a.setAttribute(g,g.toLowerCase()));return g}};d.support.getSetAttribute||(N=d.valHooks.button={get:function(a,c){var d;return(d=a.getAttributeNode(c))&&""!==d.nodeValue?d.nodeValue:f},set:function(a,c,d){var k=a.getAttributeNode(d);k||(k=v.createAttribute(d),a.setAttributeNode(k));return k.nodeValue=c+""}},
d.each(["width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{set:function(a,d){if(""===d)return a.setAttribute(c,"auto"),d}})}));d.support.hrefNormalized||d.each(["href","src","width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null===a?f:a}})});d.support.style||(d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||f},set:function(a,c){return a.style.cssText=""+c}});d.support.optSelected||(d.propHooks.selected=
d.extend(d.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,c){if(d.isArray(c))return a.checked=0<=d.inArray(d(a).val(),c)}})});var ka=/\.(.*)$/,qa=/^(?:textarea|input|select)$/i,
Wa=/\./g,Xa=/ /g,jb=/[^\w\s.|`]/g,kb=function(a){return a.replace(jb,"\\$&")};d.event={add:function(a,c,g,k){if(!(3===a.nodeType||8===a.nodeType)){if(!1===g)g=t;else if(!g)return;var p,e;g.handler&&(p=g,g=p.handler);g.guid||(g.guid=d.guid++);if(e=d._data(a)){var b=e.events,n=e.handle;b||(e.events=b={});n||(e.handle=n=function(a){return"undefined"!==typeof d&&(!a||d.event.triggered!==a.type)?d.event.handle.apply(n.elem,arguments):f});n.elem=a;c=c.split(" ");for(var h,l=0,q;h=c[l++];){e=p?d.extend({},
p):{handler:g,data:k};-1<h.indexOf(".")?(q=h.split("."),h=q.shift(),e.namespace=q.slice(0).sort().join(".")):(q=[],e.namespace="");e.type=h;e.guid||(e.guid=g.guid);var m=b[h],x=d.event.special[h]||{};if(!m&&(m=b[h]=[],!x.setup||!1===x.setup.call(a,k,q,n)))a.addEventListener?a.addEventListener(h,n,!1):a.attachEvent&&a.attachEvent("on"+h,n);x.add&&(x.add.call(a,e),e.handler.guid||(e.handler.guid=g.guid));m.push(e);d.event.global[h]=!0}a=null}}},global:{},remove:function(a,c,g,k){if(!(3===a.nodeType||
8===a.nodeType)){!1===g&&(g=t);var p,e,b=0,n,h,l,q,m,x,r=d.hasData(a)&&d._data(a),s=r&&r.events;if(r&&s)if(c&&c.type&&(g=c.handler,c=c.type),!c||"string"===typeof c&&"."===c.charAt(0))for(p in c=c||"",s)d.event.remove(a,p+c);else{for(c=c.split(" ");p=c[b++];)if(q=p,n=0>p.indexOf("."),h=[],n||(h=p.split("."),p=h.shift(),l=RegExp("(^|\\.)"+d.map(h.slice(0).sort(),kb).join("\\.(?:.*\\.)?")+"(\\.|$)")),m=s[p])if(g){q=d.event.special[p]||{};for(e=k||0;e<m.length;e++)if(x=m[e],g.guid===x.guid){if(n||l.test(x.namespace))null==
k&&m.splice(e--,1),q.remove&&q.remove.call(a,x);if(null!=k)break}if(0===m.length||null!=k&&1===m.length)(!q.teardown||!1===q.teardown.call(a,h))&&d.removeEvent(a,p,r.handle),delete s[p]}else for(e=0;e<m.length;e++)if(x=m[e],n||l.test(x.namespace))d.event.remove(a,q,x.handler,e),m.splice(e--,1);if(d.isEmptyObject(s)){if(c=r.handle)c.elem=null;delete r.events;delete r.handle;d.isEmptyObject(r)&&d.removeData(a,f,!0)}}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,c,g,k){var e=
a.type||a,b=[],n;0<=e.indexOf("!")&&(e=e.slice(0,-1),n=!0);0<=e.indexOf(".")&&(b=e.split("."),e=b.shift(),b.sort());if(g&&!d.event.customEvent[e]||d.event.global[e]){a="object"===typeof a?a[d.expando]?a:new d.Event(e,a):new d.Event(e);a.type=e;a.exclusive=n;a.namespace=b.join(".");a.namespace_re=RegExp("(^|\\.)"+b.join("\\.(?:.*\\.)?")+"(\\.|$)");if(k||!g)a.preventDefault(),a.stopPropagation();if(g){if(!(3===g.nodeType||8===g.nodeType)){a.result=f;a.target=g;c=null!=c?d.makeArray(c):[];c.unshift(a);
b=g;k=0>e.indexOf(":")?"on"+e:"";do n=d._data(b,"handle"),a.currentTarget=b,n&&n.apply(b,c),k&&(d.acceptData(b)&&b[k]&&!1===b[k].apply(b,c))&&(a.result=!1,a.preventDefault()),b=b.parentNode||b.ownerDocument||b===a.target.ownerDocument&&h;while(b&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var l,b=d.event.special[e]||{};if((!b._default||!1===b._default.call(g.ownerDocument,a))&&!("click"===e&&d.nodeName(g,"a"))&&d.acceptData(g)){try{k&&g[e]&&((l=g[k])&&(g[k]=null),d.event.triggered=e,g[e]())}catch(q){}l&&
(g[k]=l);d.event.triggered=f}}return a.result}}else d.each(d.cache,function(){var g=this[d.expando];g&&(g.events&&g.events[e])&&d.event.trigger(a,c,g.handle.elem)})}},handle:function(a){a=d.event.fix(a||h.event);var c=((d._data(this,"events")||{})[a.type]||[]).slice(0),g=!a.exclusive&&!a.namespace,k=Array.prototype.slice.call(arguments,0);k[0]=a;a.currentTarget=this;for(var e=0,b=c.length;e<b;e++){var n=c[e];if(g||a.namespace_re.test(n.namespace))if(a.handler=n.handler,a.data=n.data,a.handleObj=n,
n=n.handler.apply(this,k),n!==f&&(a.result=n,!1===n&&(a.preventDefault(),a.stopPropagation())),a.isImmediatePropagationStopped())break}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[d.expando])return a;
var c=a;a=d.Event(c);for(var g=this.props.length,k;g;)k=this.props[--g],a[k]=c[k];a.target||(a.target=a.srcElement||v);3===a.target.nodeType&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);null==a.pageX&&null!=a.clientX&&(g=a.target.ownerDocument||v,c=g.documentElement,g=g.body,a.pageX=a.clientX+(c&&c.scrollLeft||g&&g.scrollLeft||0)-(c&&c.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(c&&c.scrollTop||g&&g.scrollTop||
0)-(c&&c.clientTop||g&&g.clientTop||0));if(null==a.which&&(null!=a.charCode||null!=a.keyCode))a.which=null!=a.charCode?a.charCode:a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==f&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,I(a.origType,a.selector),d.extend({},a,{handler:E,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,I(a.origType,
a.selector),a)}},beforeunload:{setup:function(a,c,g){d.isWindow(this)&&(this.onbeforeunload=g)},teardown:function(a,c){this.onbeforeunload===c&&(this.onbeforeunload=null)}}}};d.removeEvent=v.removeEventListener?function(a,c,d){a.removeEventListener&&a.removeEventListener(c,d,!1)}:function(a,c,d){a.detachEvent&&a.detachEvent("on"+c,d)};d.Event=function(a,c){if(!this.preventDefault)return new d.Event(a,c);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===
a.returnValue||a.getPreventDefault&&a.getPreventDefault()?r:t):this.type=a;c&&d.extend(this,c);this.timeStamp=d.now();this[d.expando]=!0};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=r;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
r;this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t};var Ca=function(a){var c=a.relatedTarget,g=!1,k=a.type;a.type=a.data;c!==this&&(c&&(g=d.contains(this,c)),g||(d.event.handle.apply(this,arguments),a.type=k))},Da=function(a){a.type=a.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,c){d.event.special[a]={setup:function(g){d.event.add(this,c,g&&g.selector?Da:Ca,a)},teardown:function(a){d.event.remove(this,
c,a&&a.selector?Da:Ca)}}});d.support.submitBubbles||(d.event.special.submit={setup:function(a,c){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click.specialSubmit",function(a){var c=a.target,e=d.nodeName(c,"input")||d.nodeName(c,"button")?c.type:"";("submit"===e||"image"===e)&&d(c).closest("form").length&&y("submit",this,arguments)});d.event.add(this,"keypress.specialSubmit",function(a){var c=a.target,e=d.nodeName(c,"input")||d.nodeName(c,"button")?c.type:"";("text"===e||"password"===e)&&
(d(c).closest("form").length&&13===a.keyCode)&&y("submit",this,arguments)})},teardown:function(a){d.event.remove(this,".specialSubmit")}});if(!d.support.changeBubbles){var da,Ea=function(a){var c=d.nodeName(a,"input")?a.type:"",g=a.value;"radio"===c||"checkbox"===c?g=a.checked:"select-multiple"===c?g=-1<a.selectedIndex?d.map(a.options,function(a){return a.selected}).join("-"):"":d.nodeName(a,"select")&&(g=a.selectedIndex);return g},ha=function(a,c){var g=a.target,k,e;if(qa.test(g.nodeName)&&!g.readOnly&&
(k=d._data(g,"_change_data"),e=Ea(g),("focusout"!==a.type||"radio"!==g.type)&&d._data(g,"_change_data",e),!(k===f||e===k)))if(null!=k||e)a.type="change",a.liveFired=f,d.event.trigger(a,c,g)};d.event.special.change={filters:{focusout:ha,beforedeactivate:ha,click:function(a){var c=a.target,g=d.nodeName(c,"input")?c.type:"";("radio"===g||"checkbox"===g||d.nodeName(c,"select"))&&ha.call(this,a)},keydown:function(a){var c=a.target,g=d.nodeName(c,"input")?c.type:"";(13===a.keyCode&&!d.nodeName(c,"textarea")||
32===a.keyCode&&("checkbox"===g||"radio"===g)||"select-multiple"===g)&&ha.call(this,a)},beforeactivate:function(a){a=a.target;d._data(a,"_change_data",Ea(a))}},setup:function(a,c){if("file"===this.type)return!1;for(var g in da)d.event.add(this,g+".specialChange",da[g]);return qa.test(this.nodeName)},teardown:function(a){d.event.remove(this,".specialChange");return qa.test(this.nodeName)}};da=d.event.special.change.filters;da.focus=da.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",
blur:"focusout"},function(a,c){function g(a){var g=d.event.fix(a);g.type=c;g.originalEvent={};d.event.trigger(g,null,g.target);g.isDefaultPrevented()&&a.preventDefault()}var k=0;d.event.special[c]={setup:function(){0===k++&&v.addEventListener(a,g,!0)},teardown:function(){0===--k&&v.removeEventListener(a,g,!0)}}});d.each(["bind","one"],function(a,c){d.fn[c]=function(a,k,e){var b;if("object"===typeof a){for(var n in a)this[c](n,k,a[n],e);return this}if(2===arguments.length||!1===k)e=k,k=f;"one"===c?
(b=function(a){d(this).unbind(a,b);return e.apply(this,arguments)},b.guid=e.guid||d.guid++):b=e;if("unload"===a&&"one"!==c)this.one(a,k,e);else{n=0;for(var h=this.length;n<h;n++)d.event.add(this[n],a,b,k)}return this}});d.fn.extend({unbind:function(a,c){if("object"===typeof a&&!a.preventDefault)for(var g in a)this.unbind(g,a[g]);else{g=0;for(var k=this.length;g<k;g++)d.event.remove(this[g],a,c)}return this},delegate:function(a,c,d,k){return this.live(c,d,k,a)},undelegate:function(a,c,d){return 0===
arguments.length?this.unbind("live"):this.die(c,null,d,a)},trigger:function(a,c){return this.each(function(){d.event.trigger(a,c,this)})},triggerHandler:function(a,c){if(this[0])return d.event.trigger(a,c,this[0],!0)},toggle:function(a){var c=arguments,g=a.guid||d.guid++,k=0,e=function(g){var e=(d.data(this,"lastToggle"+a.guid)||0)%k;d.data(this,"lastToggle"+a.guid,e+1);g.preventDefault();return c[e].apply(this,arguments)||!1};for(e.guid=g;k<c.length;)c[k++].guid=g;return this.click(e)},hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var ra={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,c){d.fn[c]=function(a,k,e,b){var n=0,h,l,q=b||this.selector,m=b?this:d(this.context);if("object"===typeof a&&!a.preventDefault){for(h in a)m[c](h,k,a[h],q);return this}if("die"===c&&!a&&b&&"."===b.charAt(0))return m.unbind(b),this;if(!1===k||d.isFunction(k))e=k||t,k=f;for(a=(a||"").split(" ");null!=(b=a[n++]);)if(h=ka.exec(b),l="",
h&&(l=h[0],b=b.replace(ka,"")),"hover"===b)a.push("mouseenter"+l,"mouseleave"+l);else if(h=b,ra[b]?(a.push(ra[b]+l),b+=l):b=(ra[b]||b)+l,"live"===c){l=0;for(var x=m.length;l<x;l++)d.event.add(m[l],"live."+I(b,q),{data:k,selector:q,handler:e,origType:b,origHandler:e,preType:h})}else m.unbind("live."+I(b,q),e);return this}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(a,c){d.fn[c]=function(a,d){null==d&&(d=a,a=null);return 0<arguments.length?this.bind(c,a,d):this.trigger(c)};d.attrFn&&(d.attrFn[c]=!0)});(function(){function a(a,c,d,g,k,e){k=0;for(var b=g.length;k<b;k++){var p=g[k];if(p){for(var f=!1,p=p[a];p;){if(p.sizcache===d){f=g[p.sizset];break}1===p.nodeType&&!e&&(p.sizcache=d,p.sizset=k);if(p.nodeName.toLowerCase()===c){f=p;break}p=p[a]}g[k]=f}}}function c(a,c,d,g,k,e){k=0;for(var b=g.length;k<b;k++){var p=g[k];if(p){for(var f=!1,p=p[a];p;){if(p.sizcache===
d){f=g[p.sizset];break}if(1===p.nodeType)if(e||(p.sizcache=d,p.sizset=k),"string"!==typeof c){if(p===c){f=!0;break}}else if(0<q.filter(c,[p]).length){f=p;break}p=p[a]}g[k]=f}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,k=0,e=Object.prototype.toString,b=!1,n=!0,h=/\\/g,l=/\W/;[0,0].sort(function(){n=!1;return 0});var q=function(a,c,d,k){d=d||[];var b=c=c||v;if(1!==c.nodeType&&9!==c.nodeType)return[];if(!a||
"string"!==typeof a)return d;var f,n,h,l,w,T=!0,r=q.isXML(c),s=[],u=a;do if(g.exec(""),f=g.exec(u))if(u=f[3],s.push(f[1]),f[2]){l=f[3];break}while(f);if(1<s.length&&x.exec(a))if(2===s.length&&m.relative[s[0]])n=G(s[0]+s[1],c);else for(n=m.relative[s[0]]?[c]:q(s.shift(),c);s.length;)a=s.shift(),m.relative[a]&&(a+=s.shift()),n=G(a,n);else if(!k&&(1<s.length&&9===c.nodeType&&!r&&m.match.ID.test(s[0])&&!m.match.ID.test(s[s.length-1]))&&(f=q.find(s.shift(),c,r),c=f.expr?q.filter(f.expr,f.set)[0]:f.set[0]),
c){f=k?{expr:s.pop(),set:B(k)}:q.find(s.pop(),1===s.length&&("~"===s[0]||"+"===s[0])&&c.parentNode?c.parentNode:c,r);n=f.expr?q.filter(f.expr,f.set):f.set;for(0<s.length?h=B(n):T=!1;s.length;)f=w=s.pop(),m.relative[w]?f=s.pop():w="",null==f&&(f=c),m.relative[w](h,f,r)}else h=[];h||(h=n);h||q.error(w||a);if("[object Array]"===e.call(h))if(T)if(c&&1===c.nodeType)for(a=0;null!=h[a];a++)h[a]&&(!0===h[a]||1===h[a].nodeType&&q.contains(c,h[a]))&&d.push(n[a]);else for(a=0;null!=h[a];a++)h[a]&&1===h[a].nodeType&&
d.push(n[a]);else d.push.apply(d,h);else B(h,d);l&&(q(l,b,d,k),q.uniqueSort(d));return d};q.uniqueSort=function(a){if(t&&(b=n,a.sort(t),b))for(var c=1;c<a.length;c++)a[c]===a[c-1]&&a.splice(c--,1);return a};q.matches=function(a,c){return q(a,null,null,c)};q.matchesSelector=function(a,c){return 0<q(c,null,null,[a]).length};q.find=function(a,c,d){var g;if(!a)return[];for(var k=0,e=m.order.length;k<e;k++){var b,p=m.order[k];if(b=m.leftMatch[p].exec(a)){var f=b[1];b.splice(1,1);if("\\"!==f.substr(f.length-
1)&&(b[1]=(b[1]||"").replace(h,""),g=m.find[p](b,c,d),null!=g)){a=a.replace(m.match[p],"");break}}}g||(g="undefined"!==typeof c.getElementsByTagName?c.getElementsByTagName("*"):[]);return{set:g,expr:a}};q.filter=function(a,c,d,g){for(var k,e,b=a,p=[],n=c,h=c&&c[0]&&q.isXML(c[0]);a&&c.length;){for(var l in m.filter)if(null!=(k=m.leftMatch[l].exec(a))&&k[2]){var w,x,s=m.filter[l];x=k[1];e=!1;k.splice(1,1);if("\\"!==x.substr(x.length-1)){n===p&&(p=[]);if(m.preFilter[l])if(k=m.preFilter[l](k,n,d,p,g,
h)){if(!0===k)continue}else e=w=!0;if(k)for(var T=0;null!=(x=n[T]);T++)if(x){w=s(x,k,T,n);var r=g^!!w;d&&null!=w?r?e=!0:n[T]=!1:r&&(p.push(x),e=!0)}if(w!==f){d||(n=p);a=a.replace(m.match[l],"");if(!e)return[];break}}}if(a===b)if(null==e)q.error(a);else break;b=a}return n};q.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var m=q.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,c){var d="string"===typeof c,g=d&&!l.test(c),d=d&&!g;g&&(c=c.toLowerCase());for(var g=0,k=a.length,e;g<k;g++)if(e=a[g]){for(;(e=e.previousSibling)&&1!==e.nodeType;);a[g]=d||e&&e.nodeName.toLowerCase()===c?e||!1:e===c}d&&q.filter(c,a,!0)},">":function(a,c){var d,g="string"===typeof c,k=0,e=a.length;if(g&&!l.test(c))for(c=c.toLowerCase();k<e;k++){if(d=a[k])d=d.parentNode,a[k]=d.nodeName.toLowerCase()===c?d:!1}else{for(;k<e;k++)(d=
a[k])&&(a[k]=g?d.parentNode:d.parentNode===c);g&&q.filter(c,a,!0)}},"":function(d,g,e){var b,p=k++,f=c;"string"===typeof g&&!l.test(g)&&(b=g=g.toLowerCase(),f=a);f("parentNode",g,p,d,b,e)},"~":function(d,g,e){var b,p=k++,f=c;"string"===typeof g&&!l.test(g)&&(b=g=g.toLowerCase(),f=a);f("previousSibling",g,p,d,b,e)}},find:{ID:function(a,c,d){if("undefined"!==typeof c.getElementById&&!d)return(a=c.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,c){if("undefined"!==typeof c.getElementsByName){for(var d=
[],g=c.getElementsByName(a[1]),k=0,e=g.length;k<e;k++)g[k].getAttribute("name")===a[1]&&d.push(g[k]);return 0===d.length?null:d}},TAG:function(a,c){if("undefined"!==typeof c.getElementsByTagName)return c.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,c,d,g,k,e){a=" "+a[1].replace(h,"")+" ";if(e)return a;e=0;for(var b;null!=(b=c[e]);e++)b&&(k^(b.className&&0<=(" "+b.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?d||g.push(b):d&&(c[e]=!1));return!1},ID:function(a){return a[1].replace(h,
"")},TAG:function(a,c){return a[1].replace(h,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||q.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var c=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=c[1]+(c[2]||1)-0;a[3]=c[3]-0}else a[2]&&q.error(a[0]);a[0]=k++;return a},ATTR:function(a,c,d,g,k,e){c=a[1]=a[1].replace(h,"");!e&&m.attrMap[c]&&(a[1]=m.attrMap[c]);a[4]=(a[4]||a[5]||"").replace(h,"");"~="===a[2]&&(a[4]=" "+a[4]+
" ");return a},PSEUDO:function(a,c,d,k,e){if("not"===a[1])if(1<(g.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=q(a[3],null,null,c);else return a=q.filter(a[3],c,d,1^e),d||k.push.apply(k,a),!1;else if(m.match.POS.test(a[0])||m.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,c,d){return!!q(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var c=a.getAttribute("type"),d=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===d&&(c===d||null===c)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===
a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var c=a.nodeName.toLowerCase();return("input"===c||"button"===c)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var c=a.nodeName.toLowerCase();return("input"===c||"button"===c)&&"reset"===a.type},button:function(a){var c=a.nodeName.toLowerCase();
return"input"===c&&"button"===a.type||"button"===c},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,c){return 0===c},last:function(a,c,d,g){return c===g.length-1},even:function(a,c){return 0===c%2},odd:function(a,c){return 1===c%2},lt:function(a,c,d){return c<d[3]-0},gt:function(a,c,d){return c>d[3]-0},nth:function(a,c,d){return d[3]-0===c},eq:function(a,c,d){return d[3]-0===c}},filter:{PSEUDO:function(a,
c,d,g){var k=c[1],e=m.filters[k];if(e)return e(a,d,c,g);if("contains"===k)return 0<=(a.textContent||a.innerText||q.getText([a])||"").indexOf(c[3]);if("not"===k){c=c[3];d=0;for(g=c.length;d<g;d++)if(c[d]===a)return!1;return!0}q.error(k)},CHILD:function(a,c){var d=c[1],g=a;switch(d){case "only":case "first":for(;g=g.previousSibling;)if(1===g.nodeType)return!1;if("first"===d)return!0;g=a;case "last":for(;g=g.nextSibling;)if(1===g.nodeType)return!1;return!0;case "nth":var d=c[2],k=c[3];if(1===d&&0===
k)return!0;var e=c[0],b=a.parentNode;if(b&&(b.sizcache!==e||!a.nodeIndex)){for(var p=0,g=b.firstChild;g;g=g.nextSibling)1===g.nodeType&&(g.nodeIndex=++p);b.sizcache=e}g=a.nodeIndex-k;return 0===d?0===g:0===g%d&&0<=g/d}},ID:function(a,c){return 1===a.nodeType&&a.getAttribute("id")===c},TAG:function(a,c){return"*"===c&&1===a.nodeType||a.nodeName.toLowerCase()===c},CLASS:function(a,c){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(c)},ATTR:function(a,c){var d=c[1],d=m.attrHandle[d]?
m.attrHandle[d](a):null!=a[d]?a[d]:a.getAttribute(d),g=d+"",k=c[2],e=c[4];return null==d?"!="===k:"="===k?g===e:"*="===k?0<=g.indexOf(e):"~="===k?0<=(" "+g+" ").indexOf(e):!e?g&&!1!==d:"!="===k?g!==e:"^="===k?0===g.indexOf(e):"$="===k?g.substr(g.length-e.length)===e:"|="===k?g===e||g.substr(0,e.length+1)===e+"-":!1},POS:function(a,c,d,g){var k=m.setFilters[c[2]];if(k)return k(a,d,c,g)}}},x=m.match.POS,r=function(a,c){return"\\"+(c-0+1)},s;for(s in m.match)m.match[s]=RegExp(m.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),
m.leftMatch[s]=RegExp(/(^(?:.|\r|\n)*?)/.source+m.match[s].source.replace(/\\(\d+)/g,r));var B=function(a,c){a=Array.prototype.slice.call(a,0);return c?(c.push.apply(c,a),c):a};try{Array.prototype.slice.call(v.documentElement.childNodes,0)[0].nodeType}catch(u){B=function(a,c){var d=0,g=c||[];if("[object Array]"===e.call(a))Array.prototype.push.apply(g,a);else if("number"===typeof a.length)for(var k=a.length;d<k;d++)g.push(a[d]);else for(;a[d];d++)g.push(a[d]);return g}}var t,D;v.documentElement.compareDocumentPosition?
t=function(a,c){return a===c?(b=!0,0):!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1}:(t=function(a,c){if(a===c)return b=!0,0;if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex;var d,g,k=[],e=[];d=a.parentNode;g=c.parentNode;var p=d;if(d===g)return D(a,c);if(d){if(!g)return 1}else return-1;for(;p;)k.unshift(p),p=p.parentNode;for(p=g;p;)e.unshift(p),p=p.parentNode;d=k.length;g=e.length;for(p=0;p<d&&p<g;p++)if(k[p]!==
e[p])return D(k[p],e[p]);return p===d?D(a,e[p],-1):D(k[p],c,1)},D=function(a,c,d){if(a===c)return d;for(a=a.nextSibling;a;){if(a===c)return-1;a=a.nextSibling}return 1});q.getText=function(a){for(var c="",d,g=0;a[g];g++)d=a[g],3===d.nodeType||4===d.nodeType?c+=d.nodeValue:8!==d.nodeType&&(c+=q.getText(d.childNodes));return c};(function(){var a=v.createElement("div"),c="script"+(new Date).getTime(),d=v.documentElement;a.innerHTML="<a name='"+c+"'/>";d.insertBefore(a,d.firstChild);v.getElementById(c)&&
(m.find.ID=function(a,c,d){if("undefined"!==typeof c.getElementById&&!d)return(c=c.getElementById(a[1]))?c.id===a[1]||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").nodeValue===a[1]?[c]:f:[]},m.filter.ID=function(a,c){var d="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&d&&d.nodeValue===c});d.removeChild(a);d=a=null})();(function(){var a=v.createElement("div");a.appendChild(v.createComment(""));0<a.getElementsByTagName("*").length&&(m.find.TAG=
function(a,c){var d=c.getElementsByTagName(a[1]);if("*"===a[1]){for(var g=[],k=0;d[k];k++)1===d[k].nodeType&&g.push(d[k]);d=g}return d});a.innerHTML="<a href='#'></a>";a.firstChild&&("undefined"!==typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href"))&&(m.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();v.querySelectorAll&&function(){var a=q,c=v.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!(c.querySelectorAll&&0===c.querySelectorAll(".TEST").length)){q=
function(c,d,g,k){d=d||v;if(!k&&!q.isXML(d)){var e=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(c);if(e&&(1===d.nodeType||9===d.nodeType)){if(e[1])return B(d.getElementsByTagName(c),g);if(e[2]&&m.find.CLASS&&d.getElementsByClassName)return B(d.getElementsByClassName(e[2]),g)}if(9===d.nodeType){if("body"===c&&d.body)return B([d.body],g);if(e&&e[3]){var b=d.getElementById(e[3]);if(b&&b.parentNode){if(b.id===e[3])return B([b],g)}else return B([],g)}try{return B(d.querySelectorAll(c),g)}catch(p){}}else if(1===
d.nodeType&&"object"!==d.nodeName.toLowerCase()){var e=d,f=(b=d.getAttribute("id"))||"__sizzle__",n=d.parentNode,h=/^\s*[+~]/.test(c);b?f=f.replace(/'/g,"\\$&"):d.setAttribute("id",f);h&&n&&(d=d.parentNode);try{if(!h||n)return B(d.querySelectorAll("[id='"+f+"'] "+c),g)}catch(l){}finally{b||e.removeAttribute("id")}}}return a(c,d,g,k)};for(var d in a)q[d]=a[d];c=null}}();(function(){var a=v.documentElement,c=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(c){var d=
!c.call(v.createElement("div"),"div"),g=!1;try{c.call(v.documentElement,"[test!='']:sizzle")}catch(k){g=!0}q.matchesSelector=function(a,k){k=k.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!q.isXML(a))try{if(g||!m.match.PSEUDO.test(k)&&!/!=/.test(k)){var e=c.call(a,k);if(e||!d||a.document&&11!==a.document.nodeType)return e}}catch(b){}return 0<q(k,null,null,[a]).length}}})();(function(){var a=v.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&
0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(m.order.splice(1,0,"CLASS"),m.find.CLASS=function(a,c,d){if("undefined"!==typeof c.getElementsByClassName&&!d)return c.getElementsByClassName(a[1])},a=null))})();q.contains=v.documentElement.contains?function(a,c){return a!==c&&(a.contains?a.contains(c):!0)}:v.documentElement.compareDocumentPosition?function(a,c){return!!(a.compareDocumentPosition(c)&16)}:function(){return!1};q.isXML=function(a){return(a=
(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var G=function(a,c){for(var d,g=[],k="",e=c.nodeType?[c]:c;d=m.match.PSEUDO.exec(a);)k+=d[0],a=a.replace(m.match.PSEUDO,"");a=m.relative[a]?a+"*":a;d=0;for(var b=e.length;d<b;d++)q(a,e[d],g);return q.filter(k,g)};d.find=q;d.expr=q.selectors;d.expr[":"]=d.expr.filters;d.unique=q.uniqueSort;d.text=q.getText;d.isXMLDoc=q.isXML;d.contains=q.contains})();var lb=/Until$/,mb=/^(?:parents|prevUntil|prevAll)/,nb=/,/,Ya=/^.[^:#\[\.,]*$/,ob=Array.prototype.slice,
Fa=d.expr.match.POS,pb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var c=this,g,k;if("string"!==typeof a)return d(a).filter(function(){g=0;for(k=c.length;g<k;g++)if(d.contains(c[g],this))return!0});var e=this.pushStack("","find",a),b,f,n;g=0;for(k=this.length;g<k;g++)if(b=e.length,d.find(a,this[g],e),0<g)for(f=b;f<e.length;f++)for(n=0;n<b;n++)if(e[n]===e[f]){e.splice(f--,1);break}return e},has:function(a){var c=d(a);return this.filter(function(){for(var a=0,k=c.length;a<
k;a++)if(d.contains(this,c[a]))return!0})},not:function(a){return this.pushStack(C(this,a,!1),"not",a)},filter:function(a){return this.pushStack(C(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?0<d.filter(a,this).length:0<this.filter(a).length)},closest:function(a,c){var g=[],k,e,b=this[0];if(d.isArray(a)){var f,n={},h=1;if(b&&a.length){k=0;for(e=a.length;k<e;k++)f=a[k],n[f]||(n[f]=Fa.test(f)?d(f,c||this.context):f);for(;b&&b.ownerDocument&&b!==c;){for(f in n)k=n[f],(k.jquery?
-1<k.index(b):d(b).is(k))&&g.push({selector:f,elem:b,level:h});b=b.parentNode;h++}}return g}f=Fa.test(a)||"string"!==typeof a?d(a,c||this.context):0;k=0;for(e=this.length;k<e;k++)for(b=this[k];b;)if(f?-1<f.index(b):d.find.matchesSelector(b,a)){g.push(b);break}else if(b=b.parentNode,!b||!b.ownerDocument||b===c||11===b.nodeType)break;g=1<g.length?d.unique(g):g;return this.pushStack(g,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?d.inArray(this[0],
d(a)):d.inArray(a.jquery?a[0]:a,this)},add:function(a,c){var g="string"===typeof a?d(a,c):d.makeArray(a&&a.nodeType?[a]:a),k=d.merge(this.get(),g);return this.pushStack(!g[0]||!g[0].parentNode||11===g[0].parentNode.nodeType||!k[0]||!k[0].parentNode||11===k[0].parentNode.nodeType?k:d.unique(k))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,c,
g){return d.dir(a,"parentNode",g)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,c,g){return d.dir(a,"nextSibling",g)},prevUntil:function(a,c,g){return d.dir(a,"previousSibling",g)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,c){d.fn[a]=function(g,k){var e=d.map(this,c,g),b=ob.call(arguments);lb.test(a)||(k=g);k&&"string"===typeof k&&(e=d.filter(k,e));e=1<this.length&&!pb[a]?d.unique(e):e;if((1<this.length||nb.test(k))&&mb.test(a))e=e.reverse();return this.pushStack(e,a,b.join(","))}});d.extend({filter:function(a,c,g){g&&(a=":not("+a+")");return 1===c.length?d.find.matchesSelector(c[0],a)?[c[0]]:[]:d.find.matches(a,c)},dir:function(a,
c,g){var k=[];for(a=a[c];a&&9!==a.nodeType&&(g===f||1!==a.nodeType||!d(a).is(g));)1===a.nodeType&&k.push(a),a=a[c];return k},nth:function(a,c,d,k){c=c||1;for(k=0;a&&!(1===a.nodeType&&++k===c);a=a[d]);return a},sibling:function(a,c){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&d.push(a);return d}});var qb=/ jQuery\d+="(?:\d+|null)"/g,sa=/^\s+/,Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ha=/<([\w:]+)/,rb=/<tbody/i,sb=/<|&#?\w+;/,Ia=/<(?:script|object|embed|option|style)/i,
Ja=/checked\s*(?:[^=]|=\s*.checked.)/i,tb=/\/(java|ecma)script/i,Za=/^\s*<!(?:\[CDATA\[|\-\-)/,H={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};H.optgroup=H.option;H.tbody=H.tfoot=H.colgroup=H.caption=H.thead;H.th=H.td;
d.support.htmlSerialize||(H._default=[1,"div<div>","</div>"]);d.fn.extend({text:function(a){return d.isFunction(a)?this.each(function(c){var g=d(this);g.text(a.call(this,c,g.text()))}):"object"!==typeof a&&a!==f?this.empty().append((this[0]&&this[0].ownerDocument||v).createTextNode(a)):d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(c){d(this).wrapAll(a.call(this,c))});if(this[0]){var c=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);
c.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(c){d(this).wrapInner(a.call(this,c))}):this.each(function(){var c=d(this),g=c.contents();g.length?g.wrapAll(a):c.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,c){for(var g=0,k;null!=(k=this[g]);g++)if(!a||d.filter(a,[k]).length)!c&&1===k.nodeType&&(d.cleanData(k.getElementsByTagName("*")),d.cleanData([k])),k.parentNode&&k.parentNode.removeChild(k);return this},empty:function(){for(var a=0,c;null!=(c=this[a]);a++)for(1===
c.nodeType&&d.cleanData(c.getElementsByTagName("*"));c.firstChild;)c.removeChild(c.firstChild);return this},clone:function(a,c){a=null==a?!1:a;c=null==c?a:c;return this.map(function(){return d.clone(this,a,c)})},html:function(a){if(a===f)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(qb,""):null;if("string"===typeof a&&!Ia.test(a)&&(d.support.leadingWhitespace||!sa.test(a))&&!H[(Ha.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ga,"<$1></$2>");try{for(var c=0,g=this.length;c<g;c++)1===
this[c].nodeType&&(d.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(k){this.empty().append(a)}}else d.isFunction(a)?this.each(function(c){var g=d(this);g.html(a.call(this,c,g.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(c){var g=d(this),k=g.html();g.replaceWith(a.call(this,c,k))});"string"!==typeof a&&(a=d(a).detach());return this.each(function(){var c=this.nextSibling,g=
this.parentNode;d(this).remove();c?d(c).before(a):d(g).append(a)})}return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,g){var k,e,b,h=a[0],l=[];if(!d.support.checkClone&&3===arguments.length&&"string"===typeof h&&Ja.test(h))return this.each(function(){d(this).domManip(a,c,g,!0)});if(d.isFunction(h))return this.each(function(k){var e=d(this);a[0]=h.call(this,k,c?e.html():f);e.domManip(a,c,g)});if(this[0]){k=
h&&h.parentNode;k=d.support.parentNode&&k&&11===k.nodeType&&k.childNodes.length===this.length?{fragment:k}:d.buildFragment(a,this,l);b=k.fragment;if(e=1===b.childNodes.length?b=b.firstChild:b.firstChild){c=c&&d.nodeName(e,"tr");e=0;for(var q=this.length,m=q-1;e<q;e++)g.call(c?d.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],k.cacheable||1<q&&e<m?d.clone(b,!0,!0):b)}l.length&&d.each(l,n)}return this}});
d.buildFragment=function(a,c,g){var k,e,b,f;c&&c[0]&&(f=c[0].ownerDocument||c[0]);f.createDocumentFragment||(f=v);if(1===a.length&&"string"===typeof a[0]&&512>a[0].length&&f===v&&"<"===a[0].charAt(0)&&!Ia.test(a[0])&&(d.support.checkClone||!Ja.test(a[0])))e=!0,(b=d.fragments[a[0]])&&1!==b&&(k=b);k||(k=f.createDocumentFragment(),d.clean(a,f,k,g));e&&(d.fragments[a[0]]=b?k:1);return{fragment:k,cacheable:e}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",
replaceAll:"replaceWith"},function(a,c){d.fn[a]=function(g){var k=[];g=d(g);var e=1===this.length&&this[0].parentNode;if(e&&11===e.nodeType&&1===e.childNodes.length&&1===g.length)return g[c](this[0]),this;for(var e=0,b=g.length;e<b;e++){var f=(0<e?this.clone(!0):this).get();d(g[e])[c](f);k=k.concat(f)}return this.pushStack(k,a,g.selector)}});d.extend({clone:function(a,c,g){var k=a.cloneNode(!0),e,b,f;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!d.isXMLDoc(a)){u(a,
k);e=A(a);b=A(k);for(f=0;e[f];++f)b[f]&&u(e[f],b[f])}if(c&&(K(a,k),g)){e=A(a);b=A(k);for(f=0;e[f];++f)K(e[f],b[f])}return k},clean:function(a,c,g,k){c=c||v;"undefined"===typeof c.createElement&&(c=c.ownerDocument||c[0]&&c[0].ownerDocument||v);for(var b=[],f,n=0,h;null!=(h=a[n]);n++)if("number"===typeof h&&(h+=""),h){if("string"===typeof h)if(sb.test(h)){h=h.replace(Ga,"<$1></$2>");f=(Ha.exec(h)||["",""])[1].toLowerCase();var l=H[f]||H._default,q=l[0],m=c.createElement("div");for(m.innerHTML=l[1]+
h+l[2];q--;)m=m.lastChild;if(!d.support.tbody){q=rb.test(h);l="table"===f&&!q?m.firstChild&&m.firstChild.childNodes:"<table>"===l[1]&&!q?m.childNodes:[];for(f=l.length-1;0<=f;--f)d.nodeName(l[f],"tbody")&&!l[f].childNodes.length&&l[f].parentNode.removeChild(l[f])}!d.support.leadingWhitespace&&sa.test(h)&&m.insertBefore(c.createTextNode(sa.exec(h)[0]),m.firstChild);h=m.childNodes}else h=c.createTextNode(h);var x;if(!d.support.appendChecked)if(h[0]&&"number"===typeof(x=h.length))for(f=0;f<x;f++)e(h[f]);
else e(h);h.nodeType?b.push(h):b=d.merge(b,h)}if(g){a=function(a){return!a.type||tb.test(a.type)};for(n=0;b[n];n++)k&&d.nodeName(b[n],"script")&&(!b[n].type||"text/javascript"===b[n].type.toLowerCase())?k.push(b[n].parentNode?b[n].parentNode.removeChild(b[n]):b[n]):(1===b[n].nodeType&&(c=d.grep(b[n].getElementsByTagName("script"),a),b.splice.apply(b,[n+1,0].concat(c))),g.appendChild(b[n]))}return b},cleanData:function(a){for(var c,g,k=d.cache,e=d.expando,b=d.event.special,f=d.support.deleteExpando,
n=0,h;null!=(h=a[n]);n++)if(!h.nodeName||!d.noData[h.nodeName.toLowerCase()])if(g=h[d.expando]){if((c=k[g]&&k[g][e])&&c.events){for(var l in c.events)b[l]?d.event.remove(h,l):d.removeEvent(h,l,c.handle);c.handle&&(c.handle.elem=null)}f?delete h[d.expando]:h.removeAttribute&&h.removeAttribute(d.expando);delete k[g]}}});var ta=/alpha\([^)]*\)/i,ub=/opacity=([^)]*)/,vb=/([A-Z]|^ms)/g,Ka=/^-?\d+(?:px)?$/i,wb=/^-?\d/,xb=/^([\-+])=([\-+.\de]+)/,yb={position:"absolute",visibility:"hidden",display:"block"},
$a=["Left","Right"],ab=["Top","Bottom"],V,La,Ma;d.fn.css=function(a,c){return 2===arguments.length&&c===f?this:d.access(this,a,c,!0,function(a,c,e){return e!==f?d.style(a,c,e):d.css(a,c)})};d.extend({cssHooks:{opacity:{get:function(a,c){if(c){var d=V(a,"opacity","opacity");return""===d?"1":d}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,
c,g,k){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var e,b=d.camelCase(c),n=a.style,h=d.cssHooks[b];c=d.cssProps[b]||b;if(g!==f){k=typeof g;if("string"===k&&(e=xb.exec(g)))g=+(e[1]+1)*+e[2]+parseFloat(d.css(a,c)),k="number";if(!(null==g||"number"===k&&isNaN(g)))if("number"===k&&!d.cssNumber[b]&&(g+="px"),!h||!("set"in h)||(g=h.set(a,g))!==f)try{n[c]=g}catch(l){}}else return h&&"get"in h&&(e=h.get(a,!1,k))!==f?e:n[c]}},css:function(a,c,g){var k,e;c=d.camelCase(c);e=d.cssHooks[c];c=d.cssProps[c]||
c;"cssFloat"===c&&(c="float");if(e&&"get"in e&&(k=e.get(a,!0,g))!==f)return k;if(V)return V(a,c)},swap:function(a,c,d){var k={},e;for(e in c)k[e]=a.style[e],a.style[e]=c[e];d.call(a);for(e in c)a.style[e]=k[e]}});d.curCSS=d.css;d.each(["height","width"],function(a,c){d.cssHooks[c]={get:function(a,e,b){var f;if(e){if(0!==a.offsetWidth)return q(a,c,b);d.swap(a,yb,function(){f=q(a,c,b)});return f}},set:function(a,c){if(Ka.test(c)){if(c=parseFloat(c),0<=c)return c+"px"}else return c}}});d.support.opacity||
(d.cssHooks.opacity={get:function(a,c){return ub.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,c){var g=a.style,e=a.currentStyle,b=d.isNaN(c)?"":"alpha(opacity="+100*c+")",f=e&&e.filter||g.filter||"";g.zoom=1;if(1<=c&&""===d.trim(f.replace(ta,""))&&(g.removeAttribute("filter"),e&&!e.filter))return;g.filter=ta.test(f)?f.replace(ta,b):f+" "+b}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(a,
c){var g;d.swap(a,{display:"inline-block"},function(){g=c?V(a,"margin-right","marginRight"):a.style.marginRight});return g}})});v.defaultView&&v.defaultView.getComputedStyle&&(La=function(a,c){var g,e;c=c.replace(vb,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return f;if(e=e.getComputedStyle(a,null))g=e.getPropertyValue(c),""===g&&!d.contains(a.ownerDocument.documentElement,a)&&(g=d.style(a,c));return g});v.documentElement.currentStyle&&(Ma=function(a,c){var d,e=a.currentStyle&&a.currentStyle[c],
b=a.runtimeStyle&&a.runtimeStyle[c],f=a.style;!Ka.test(e)&&wb.test(e)&&(d=f.left,b&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===c?"1em":e||0,e=f.pixelLeft+"px",f.left=d,b&&(a.runtimeStyle.left=b));return""===e?"auto":e});V=La||Ma;d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){var c=a.offsetHeight;return 0===a.offsetWidth&&0===c||!d.support.reliableHiddenOffsets&&"none"===(a.style.display||d.css(a,"display"))},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});
var zb=/%20/g,bb=/\[\]$/,Na=/\r?\n/g,Ab=/#.*$/,Bb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Cb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Oa=/\?/,Fb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Gb=/^(?:select|textarea)/i,va=/\s+/,Hb=/([?&])_=[^&]*/,Pa=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Qa=d.fn.load,la={},Ra={},P,Q,Sa=["*/"]+["*"];try{P=Y.href}catch(Nb){P=v.createElement("a"),P.href=
"",P=P.href}Q=Pa.exec(P.toLowerCase())||[];d.fn.extend({load:function(a,c,g){if("string"!==typeof a&&Qa)return Qa.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(0<=e){var b=a.slice(e,a.length);a=a.slice(0,e)}e="GET";c&&(d.isFunction(c)?(g=c,c=f):"object"===typeof c&&(c=d.param(c,d.ajaxSettings.traditional),e="POST"));var n=this;d.ajax({url:a,type:e,dataType:"html",data:c,complete:function(a,c,e){e=a.responseText;a.isResolved()&&(a.done(function(a){e=a}),n.html(b?d("<div>").append(e.replace(Fb,
"")).find(b):e));g&&n.each(g,[e,c,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Gb.test(this.nodeName)||Cb.test(this.type))}).map(function(a,c){var g=d(this).val();return null==g?null:d.isArray(g)?d.map(g,function(a,d){return{name:c.name,value:a.replace(Na,"\r\n")}}):{name:c.name,value:g.replace(Na,
"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){d.fn[c]=function(a){return this.bind(c,a)}});d.each(["get","post"],function(a,c){d[c]=function(a,e,b,n){d.isFunction(e)&&(n=n||b,b=e,e=f);return d.ajax({type:c,url:a,data:e,success:b,dataType:n})}});d.extend({getScript:function(a,c){return d.get(a,f,c,"script")},getJSON:function(a,c,g){return d.get(a,c,g,"json")},ajaxSetup:function(a,c){c?z(a,d.ajaxSettings):(c=a,a=d.ajaxSettings);
z(a,c);return a},ajaxSettings:{url:P,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Q[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Sa},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":h.String,"text html":!0,"text json":d.parseJSON,
"text xml":d.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:B(la),ajaxTransport:B(Ra),ajax:function(a,c){function g(a,c,g,x){if(2!==D){D=2;u&&clearTimeout(u);v=f;r=x||"";z.readyState=0<a?4:0;var s,B,t;x=c;if(g){var C=e,L=z,R=C.contents,J=C.dataTypes,K=C.responseFields,A,y,M,W;for(y in K)y in g&&(L[K[y]]=g[y]);for(;"*"===J[0];)J.shift(),A===f&&(A=C.mimeType||L.getResponseHeader("content-type"));if(A)for(y in R)if(R[y]&&R[y].test(A)){J.unshift(y);break}if(J[0]in g)M=J[0];else{for(y in g){if(!J[0]||
C.converters[y+" "+J[0]]){M=y;break}W||(W=y)}M=M||W}M?(M!==J[0]&&J.unshift(M),g=g[M]):g=void 0}else g=f;if(200<=a&&300>a||304===a){if(e.ifModified){if(A=z.getResponseHeader("Last-Modified"))d.lastModified[m]=A;if(A=z.getResponseHeader("Etag"))d.etag[m]=A}if(304===a)x="notmodified",s=!0;else try{A=e;A.dataFilter&&(g=A.dataFilter(g,A.dataType));var E=A.dataTypes;y={};var F,Y,I=E.length,ea,H=E[0],U,O,S,N,P;for(F=1;F<I;F++){if(1===F)for(Y in A.converters)"string"===typeof Y&&(y[Y.toLowerCase()]=A.converters[Y]);
U=H;H=E[F];if("*"===H)H=U;else if("*"!==U&&U!==H){O=U+" "+H;S=y[O]||y["* "+H];if(!S)for(N in P=f,y)if(ea=N.split(" "),ea[0]===U||"*"===ea[0])if(P=y[ea[1]+" "+H]){N=y[N];!0===N?S=P:!0===P&&(S=N);break}!S&&!P&&d.error("No conversion from "+O.replace(" "," to "));!0!==S&&(g=S?S(g):P(N(g)))}}B=g;x="success";s=!0}catch(Q){x="parsererror",t=Q}}else if(t=x,!x||a)x="error",0>a&&(a=0);z.status=a;z.statusText=""+(c||x);s?h.resolveWith(b,[B,x,z]):h.rejectWith(b,[z,x,t]);z.statusCode(q);q=f;G&&n.trigger("ajax"+
(s?"Success":"Error"),[z,e,s?B:t]);l.resolveWith(b,[z,x]);G&&(n.trigger("ajaxComplete",[z,e]),--d.active||d.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=f);c=c||{};var e=d.ajaxSetup({},c),b=e.context||e,n=b!==e&&(b.nodeType||b instanceof d)?d(b):d.event,h=d.Deferred(),l=d._Deferred(),q=e.statusCode||{},m,x={},s={},r,B,v,u,t,D=0,G,C,z={readyState:0,setRequestHeader:function(a,c){if(!D){var d=a.toLowerCase();a=s[d]=s[d]||a;x[a]=c}return this},getAllResponseHeaders:function(){return 2===D?
r:null},getResponseHeader:function(a){var c;if(2===D){if(!B)for(B={};c=Bb.exec(r);)B[c[1].toLowerCase()]=c[2];c=B[a.toLowerCase()]}return c===f?null:c},overrideMimeType:function(a){D||(e.mimeType=a);return this},abort:function(a){a=a||"abort";v&&v.abort(a);g(0,a);return this}};h.promise(z);z.success=z.done;z.error=z.fail;z.complete=l.done;z.statusCode=function(a){if(a){var c;if(2>D)for(c in a)q[c]=[q[c],a[c]];else c=a[z.status],z.then(c,c)}return this};e.url=((a||e.url)+"").replace(Ab,"").replace(Eb,
Q[1]+"//");e.dataTypes=d.trim(e.dataType||"*").toLowerCase().split(va);null==e.crossDomain&&(t=Pa.exec(e.url.toLowerCase()),e.crossDomain=!(!t||!(t[1]!=Q[1]||t[2]!=Q[2]||(t[3]||("http:"===t[1]?80:443))!=(Q[3]||("http:"===Q[1]?80:443)))));e.data&&(e.processData&&"string"!==typeof e.data)&&(e.data=d.param(e.data,e.traditional));L(la,e,c,z);if(2===D)return!1;G=e.global;e.type=e.type.toUpperCase();e.hasContent=!Db.test(e.type);G&&0===d.active++&&d.event.trigger("ajaxStart");if(!e.hasContent&&(e.data&&
(e.url+=(Oa.test(e.url)?"&":"?")+e.data,delete e.data),m=e.url,!1===e.cache)){t=d.now();var R=e.url.replace(Hb,"$1_="+t);e.url=R+(R===e.url?(Oa.test(e.url)?"&":"?")+"_="+t:"")}(e.data&&e.hasContent&&!1!==e.contentType||c.contentType)&&z.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(m=m||e.url,d.lastModified[m]&&z.setRequestHeader("If-Modified-Since",d.lastModified[m]),d.etag[m]&&z.setRequestHeader("If-None-Match",d.etag[m]));z.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?
e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", "+Sa+"; q=0.01":""):e.accepts["*"]);for(C in e.headers)z.setRequestHeader(C,e.headers[C]);if(e.beforeSend&&(!1===e.beforeSend.call(b,z,e)||2===D))return z.abort(),!1;for(C in{success:1,error:1,complete:1})z[C](e[C]);if(v=L(Ra,e,c,z)){z.readyState=1;G&&n.trigger("ajaxSend",[z,e]);e.async&&0<e.timeout&&(u=setTimeout(function(){z.abort("timeout")},e.timeout));try{D=1,v.send(x,g)}catch(J){2>D?g(-1,J):d.error(J)}}else g(-1,"No Transport");return z},param:function(a,
c){var e=[],b=function(a,c){c=d.isFunction(c)?c():c;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};c===f&&(c=d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){b(this.name,this.value)});else for(var n in a)J(n,a[n],c,b);return e.join("&").replace(zb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var Ib=d.now(),ia=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+Ib++}});d.ajaxPrefilter("json jsonp",
function(a,c,e){c="application/x-www-form-urlencoded"===a.contentType&&"string"===typeof a.data;if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(ia.test(a.url)||c&&ia.test(a.data))){var b,f=a.jsonpCallback=d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,n=h[f],l=a.url,q=a.data,m="$1"+f+"$2";!1!==a.jsonp&&(l=l.replace(ia,m),a.url===l&&(c&&(q=q.replace(ia,m)),a.data===q&&(l+=(/\?/.test(l)?"&":"?")+a.jsonp+"="+f)));a.url=l;a.data=q;h[f]=function(a){b=[a]};e.always(function(){h[f]=n;if(b&&
d.isFunction(n))h[f](b[0])});a.converters["script json"]=function(){b||d.error(f+" was not called");return b[0]};a.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});d.ajaxPrefilter("script",function(a){a.cache===f&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});d.ajaxTransport("script",
function(a){if(a.crossDomain){var c,d=v.head||v.getElementsByTagName("head")[0]||v.documentElement;return{send:function(e,b){c=v.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=f,e||b(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ua=
h.ActiveXObject?function(){for(var a in aa)aa[a](0,1)}:!1,Jb=0,aa;d.ajaxSettings.xhr=h.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&M()))a:{try{a=new h.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:M;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var c;return{send:function(e,b){var n=a.xhr(),l,q;a.username?n.open(a.type,a.url,a.async,
a.username,a.password):n.open(a.type,a.url,a.async);if(a.xhrFields)for(q in a.xhrFields)n[q]=a.xhrFields[q];a.mimeType&&n.overrideMimeType&&n.overrideMimeType(a.mimeType);!a.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(q in e)n.setRequestHeader(q,e[q])}catch(m){}n.send(a.hasContent&&a.data||null);c=function(e,g){var h,q,m,x,s;try{if(c&&(g||4===n.readyState))if(c=f,l&&(n.onreadystatechange=d.noop,ua&&delete aa[l]),g)4!==n.readyState&&n.abort();else{h=n.status;
m=n.getAllResponseHeaders();x={};if((s=n.responseXML)&&s.documentElement)x.xml=s;x.text=n.responseText;try{q=n.statusText}catch(r){q=""}!h&&a.isLocal&&!a.crossDomain?h=x.text?200:404:1223===h&&(h=204)}}catch(B){g||b(-1,B)}x&&b(h,q,x,m)};!a.async||4===n.readyState?c():(l=++Jb,ua&&(aa||(aa={},d(h).unload(ua)),aa[l]=c),n.onreadystatechange=c)},abort:function(){c&&c(0,1)}}}});var ma={},O,X,Kb=/^(?:toggle|show|hide)$/,Lb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ja,wa=[["height","marginTop","marginBottom","paddingTop",
"paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fa;d.fn.extend({show:function(a,c,e){if(a||0===a)return this.animate(G("show",3),a,c,e);e=0;for(var b=this.length;e<b;e++)a=this[e],a.style&&(c=a.style.display,!d._data(a,"olddisplay")&&"none"===c&&(c=a.style.display=""),""===c&&"none"===d.css(a,"display")&&d._data(a,"olddisplay",W(a.nodeName)));for(e=0;e<b;e++)if(a=this[e],a.style&&(c=a.style.display,""===c||"none"===c))a.style.display=d._data(a,"olddisplay")||
"";return this},hide:function(a,c,e){if(a||0===a)return this.animate(G("hide",3),a,c,e);a=0;for(c=this.length;a<c;a++)this[a].style&&(e=d.css(this[a],"display"),"none"!==e&&!d._data(this[a],"olddisplay")&&d._data(this[a],"olddisplay",e));for(a=0;a<c;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:d.fn.toggle,toggle:function(a,c,e){var b="boolean"===typeof a;d.isFunction(a)&&d.isFunction(c)?this._toggle.apply(this,arguments):null==a||b?this.each(function(){var c=b?a:d(this).is(":hidden");
d(this)[c?"show":"hide"]()}):this.animate(G("toggle",3),a,c,e);return this},fadeTo:function(a,c,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},a,d,e)},animate:function(a,c,e,b){var f=d.speed(c,e,b);if(d.isEmptyObject(a))return this.each(f.complete,[!1]);a=d.extend({},a);return this[!1===f.queue?"each":"queue"](function(){!1===f.queue&&d._mark(this);var c=d.extend({},f),e=1===this.nodeType,g=e&&d(this).is(":hidden"),b,k,n,h,l;c.animatedProperties={};for(n in a){b=
d.camelCase(n);n!==b&&(a[b]=a[n],delete a[n]);k=a[b];d.isArray(k)?(c.animatedProperties[b]=k[1],k=a[b]=k[0]):c.animatedProperties[b]=c.specialEasing&&c.specialEasing[b]||c.easing||"swing";if("hide"===k&&g||"show"===k&&!g)return c.complete.call(this);if(e&&("height"===b||"width"===b))c.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===d.css(this,"display")&&"none"===d.css(this,"float")&&(d.support.inlineBlockNeedsLayout?(k=W(this.nodeName),"inline"===k?this.style.display=
"inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block")}null!=c.overflow&&(this.style.overflow="hidden");for(n in a)if(e=new d.fx(this,c,n),k=a[n],Kb.test(k))e["toggle"===k?g?"show":"hide":k]();else b=Lb.exec(k),h=e.cur(),b?(k=parseFloat(b[2]),l=b[3]||(d.cssNumber[n]?"":"px"),"px"!==l&&(d.style(this,n,(k||1)+l),h*=(k||1)/e.cur(),d.style(this,n,h+l)),b[1]&&(k=("-="===b[1]?-1:1)*k+h),e.custom(h,k,l)):e.custom(h,k,"");return!0})},stop:function(a,c){a&&this.queue([]);
this.each(function(){var a=d.timers,e=a.length;for(c||d._unmark(!0,this);e--;)if(a[e].elem===this){if(c)a[e](!0);a.splice(e,1)}});c||this.dequeue();return this}});d.each({slideDown:G("show",1),slideUp:G("hide",1),slideToggle:G("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){d.fn[a]=function(a,d,e){return this.animate(c,a,d,e)}});d.extend({speed:function(a,c,e){var b=a&&"object"===typeof a?d.extend({},a):{complete:e||!e&&c||d.isFunction(a)&&
a,duration:a,easing:e&&c||c&&!d.isFunction(c)&&c};b.duration=d.fx.off?0:"number"===typeof b.duration?b.duration:b.duration in d.fx.speeds?d.fx.speeds[b.duration]:d.fx.speeds._default;b.old=b.complete;b.complete=function(a){d.isFunction(b.old)&&b.old.call(this);!1!==b.queue?d.dequeue(this):!1!==a&&d._unmark(this)};return b},easing:{linear:function(a,c,d,e){return d+e*a},swing:function(a,c,d,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,c,d){this.options=c;this.elem=a;this.prop=
d;c.orig=c.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,c=d.css(this.elem,this.prop);return isNaN(a=parseFloat(c))?!c||"auto"===c?0:c:a},custom:function(a,c,e){function b(a){return f.step(a)}var f=this,n=d.fx;this.startTime=fa||x();this.start=a;this.end=
c;this.unit=e||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;b.elem=this.elem;b()&&(d.timers.push(b)&&!ja)&&(ja=setInterval(n.tick,n.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.show=!0;this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var c=
fa||x(),e=!0,b=this.elem,f=this.options,n;if(a||c>=f.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();f.animatedProperties[this.prop]=!0;for(n in f.animatedProperties)!0!==f.animatedProperties[n]&&(e=!1);if(e){null!=f.overflow&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(a,c){b.style["overflow"+c]=f.overflow[a]});f.hide&&d(b).hide();if(f.hide||f.show)for(var h in f.animatedProperties)d.style(b,h,f.orig[h]);f.complete.call(b)}return!1}Infinity==f.duration?
this.now=c:(a=c-this.startTime,this.state=a/f.duration,this.pos=d.easing[f.animatedProperties[this.prop]](this.state,a,0,1,f.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};d.extend(d.fx,{tick:function(){for(var a=d.timers,c=0;c<a.length;++c)a[c]()||a.splice(c--,1);a.length||d.fx.stop()},interval:13,stop:function(){clearInterval(ja);ja=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&
null!=a.elem.style[a.prop]?a.elem.style[a.prop]=("width"===a.prop||"height"===a.prop?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(c){return a===c.elem}).length});var Mb=/^t(?:able|d|h)$/i,Ta=/^(?:body|html)$/i;d.fn.offset="getBoundingClientRect"in v.documentElement?function(a){var c=this[0],e;if(a)return this.each(function(c){d.offset.setOffset(this,a,c)});if(!c||!c.ownerDocument)return null;if(c===
c.ownerDocument.body)return d.offset.bodyOffset(c);try{e=c.getBoundingClientRect()}catch(b){}var f=c.ownerDocument,n=f.documentElement;if(!e||!d.contains(n,c))return e?{top:e.top,left:e.left}:{top:0,left:0};c=f.body;f=s(f);return{top:e.top+(f.pageYOffset||d.support.boxModel&&n.scrollTop||c.scrollTop)-(n.clientTop||c.clientTop||0),left:e.left+(f.pageXOffset||d.support.boxModel&&n.scrollLeft||c.scrollLeft)-(n.clientLeft||c.clientLeft||0)}}:function(a){var c=this[0];if(a)return this.each(function(c){d.offset.setOffset(this,
a,c)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return d.offset.bodyOffset(c);d.offset.initialize();var e,b=c.offsetParent,f=c.ownerDocument,n=f.documentElement,h=f.body;e=(f=f.defaultView)?f.getComputedStyle(c,null):c.currentStyle;for(var l=c.offsetTop,q=c.offsetLeft;(c=c.parentNode)&&(c!==h&&c!==n)&&!(d.offset.supportsFixedPosition&&"fixed"===e.position);){e=f?f.getComputedStyle(c,null):c.currentStyle;l-=c.scrollTop;q-=c.scrollLeft;if(c===b){l+=c.offsetTop;q+=c.offsetLeft;
if(d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!Mb.test(c.nodeName)))l+=parseFloat(e.borderTopWidth)||0,q+=parseFloat(e.borderLeftWidth)||0;b=c.offsetParent}d.offset.subtractsBorderForOverflowNotVisible&&"visible"!==e.overflow&&(l+=parseFloat(e.borderTopWidth)||0,q+=parseFloat(e.borderLeftWidth)||0)}if("relative"===e.position||"static"===e.position)l+=h.offsetTop,q+=h.offsetLeft;d.offset.supportsFixedPosition&&"fixed"===e.position&&(l+=Math.max(n.scrollTop,h.scrollTop),q+=
Math.max(n.scrollLeft,h.scrollLeft));return{top:l,left:q}};d.offset={initialize:function(){var a=v.body,c=v.createElement("div"),e,b,f,n=parseFloat(d.css(a,"marginTop"))||0;d.extend(c.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});c.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(c,a.firstChild);e=c.firstChild;b=e.firstChild;f=e.nextSibling.firstChild.firstChild;this.doesNotAddBorder=5!==b.offsetTop;this.doesAddBorderForTableAndCells=5===f.offsetTop;b.style.position="fixed";b.style.top="20px";this.supportsFixedPosition=20===b.offsetTop||15===b.offsetTop;b.style.position=b.style.top="";e.style.overflow="hidden";e.style.position="relative";this.subtractsBorderForOverflowNotVisible=-5===b.offsetTop;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==n;a.removeChild(c);
d.offset.initialize=d.noop},bodyOffset:function(a){var c=a.offsetTop,e=a.offsetLeft;d.offset.initialize();d.offset.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(d.css(a,"marginTop"))||0,e+=parseFloat(d.css(a,"marginLeft"))||0);return{top:c,left:e}},setOffset:function(a,c,e){var b=d.css(a,"position");"static"===b&&(a.style.position="relative");var f=d(a),n=f.offset(),h=d.css(a,"top"),l=d.css(a,"left"),q={},m={};("absolute"===b||"fixed"===b)&&-1<d.inArray("auto",[h,l])?(m=f.position(),b=m.top,l=
m.left):(b=parseFloat(h)||0,l=parseFloat(l)||0);d.isFunction(c)&&(c=c.call(a,e,n));null!=c.top&&(q.top=c.top-n.top+b);null!=c.left&&(q.left=c.left-n.left+l);"using"in c?c.using.call(a,q):f.css(q)}};d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],c=this.offsetParent(),e=this.offset(),b=Ta.test(c[0].nodeName)?{top:0,left:0}:c.offset();e.top-=parseFloat(d.css(a,"marginTop"))||0;e.left-=parseFloat(d.css(a,"marginLeft"))||0;b.top+=parseFloat(d.css(c[0],"borderTopWidth"))||0;b.left+=
parseFloat(d.css(c[0],"borderLeftWidth"))||0;return{top:e.top-b.top,left:e.left-b.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||v.body;a&&!Ta.test(a.nodeName)&&"static"===d.css(a,"position");)a=a.offsetParent;return a})}});d.each(["Left","Top"],function(a,c){var e="scroll"+c;d.fn[e]=function(c){var b,n;return c===f?(b=this[0],!b?null:(n=s(b))?"pageXOffset"in n?n[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&n.document.documentElement[e]||n.document.body[e]:
b[e]):this.each(function(){(n=s(this))?n.scrollTo(!a?c:d(n).scrollLeft(),a?c:d(n).scrollTop()):this[e]=c})}});d.each(["Height","Width"],function(a,c){var e=c.toLowerCase();d.fn["inner"+c]=function(){var a=this[0];return a&&a.style?parseFloat(d.css(a,e,"padding")):null};d.fn["outer"+c]=function(a){var c=this[0];return c&&c.style?parseFloat(d.css(c,e,a?"margin":"border")):null};d.fn[e]=function(a){var b=this[0];if(!b)return null==a?null:this;if(d.isFunction(a))return this.each(function(c){var b=d(this);
b[e](a.call(this,c,b[e]()))});if(d.isWindow(b)){var n=b.document.documentElement["client"+c],h=b.document.body;return"CSS1Compat"===b.document.compatMode&&n||h&&h["client"+c]||n}return 9===b.nodeType?Math.max(b.documentElement["client"+c],b.body["scroll"+c],b.documentElement["scroll"+c],b.body["offset"+c],b.documentElement["offset"+c]):a===f?(b=d.css(b,e),n=parseFloat(b),d.isNaN(n)?b:n):this.css(e,"string"===typeof a?a:a+"px")}});h.jQuery=h.$=d})(window);
(function(h){function f(b,f){for(var h=b.length;h--;)if(b[h]===f)return h;return-1}function b(b,f,h){var l,m,e,n;void 0===h&&(h=f,f="all");b=b.replace(/\s/g,"");l=b.split(",");""==l[l.length-1]&&(l[l.length-2]+=",");for(e=0;e<l.length;e++){m=[];b=l[e].split("+");if(1<b.length){m=b.slice(0,b.length-1);for(n=0;n<m.length;n++)m[n]=E[m[n]];b=[b[b.length-1]]}b=b[0];b=I[b]||b.toUpperCase().charCodeAt(0);b in t||(t[b]=[]);t[b].push({shortcut:l[e],scope:f,method:h,key:l[e],mods:m})}}function l(b,f,h){b.addEventListener?
b.addEventListener(f,h,!1):b.attachEvent&&b.attachEvent("on"+f,function(){h(window.event)})}var m,t={},r={16:!1,18:!1,17:!1,91:!1},y="all",E={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},I={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};
for(m=1;20>m;m++)E["f"+m]=111+m;for(m in E)b[m]=!1;l(document,"keydown",function(h){var l,m,A,F,e;m=(h.target||h.srcElement).tagName;l=h.keyCode;if(93==l||224==l)l=91;if(l in r)for(A in r[l]=!0,E)E[A]==l&&(b[A]=!0);else if(!("INPUT"==m||"SELECT"==m||"TEXTAREA"==m)&&l in t)for(F=0;F<t[l].length;F++)if(m=t[l][F],m.scope==y||"all"==m.scope){e=0<m.mods.length;for(A in r)if(!r[A]&&-1<f(m.mods,+A)||r[A]&&-1==f(m.mods,+A))e=!1;if((0==m.mods.length&&!r[16]&&!r[18]&&!r[17]&&!r[91]||e)&&!1===m.method(h,m))h.preventDefault?
h.preventDefault():h.returnValue=!1,h.stopPropagation&&h.stopPropagation(),h.cancelBubble&&(h.cancelBubble=!0)}});l(document,"keyup",function(f){f=f.keyCode;var h;if(93==f||224==f)f=91;if(f in r)for(h in r[f]=!1,E)E[h]==f&&(b[h]=!1)});h.key=b;h.key.setScope=function(b){y=b||"all"};"undefined"!==typeof module&&(module.exports=key)})(this);
(function(h,f){var b,l=/:([\w\d]+)/g,m=/\?([^#]*)?$/,t=function(e){return Array.prototype.slice.call(e)},r=function(e){return"[object Function]"===Object.prototype.toString.call(e)},y=function(e){return"[object Array]"===Object.prototype.toString.call(e)},E=function(e){return decodeURIComponent((e||"").replace(/\+/g," "))},I=encodeURIComponent,C=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},K=function(e){return function(b,
f){return this.route.apply(this,[e,b,f])}},u={},A=!(!f.history||!history.pushState),F=[];b=function(){var e=t(arguments),f,l;b.apps=b.apps||{};if(0===e.length||e[0]&&r(e[0]))return b.apply(b,["body"].concat(e));if("string"==typeof(l=e.shift()))return f=b.apps[l]||new b.Application,f.element_selector=l,0<e.length&&h.each(e,function(e,b){f.use(b)}),f.element_selector!=l&&delete b.apps[l],b.apps[f.element_selector]=f};b.VERSION="0.7.0";b.addLogger=function(e){F.push(e)};b.log=function(){var e=t(arguments);
e.unshift("["+Date()+"]");h.each(F,function(f,h){h.apply(b,e)})};"undefined"!=typeof f.console?r(f.console.log.apply)?b.addLogger(function(){f.console.log.apply(f.console,arguments)}):b.addLogger(function(){f.console.log(arguments)}):"undefined"!=typeof console&&b.addLogger(function(){console.log.apply(console,arguments)});h.extend(b,{makeArray:t,isFunction:r,isArray:y,extend:h.extend});b.Object=function(e){return h.extend(this,e||{})};h.extend(b.Object.prototype,{escapeHTML:C,h:C,toHash:function(){var e=
{};h.each(this,function(b,f){r(f)||(e[b]=f)});return e},toHTML:function(){var e="";h.each(this,function(b,f){r(f)||(e+="<strong>"+b+"</strong> "+f+"<br />")});return e},keys:function(e){var b=[],f;for(f in this)(!r(this[f])||!e)&&b.push(f);return b},has:function(e){return this[e]&&""!==h.trim(this[e].toString())},join:function(){var e=t(arguments),b=e.shift();return e.join(b)},log:function(){b.log.apply(b,arguments)},toString:function(e){var b=[];h.each(this,function(f,h){(!r(h)||e)&&b.push('"'+f+
'": '+h.toString())});return"Sammy.Object: {"+b.join(",")+"}"}});b.DefaultLocationProxy=function(e,b){this.app=e;this.is_native=!1;this.has_history=A;this._startPolling(b)};b.DefaultLocationProxy.fullPath=function(e){var b=e.toString().match(/^[^#]*(#.+)$/);return[e.pathname,e.search,b?b[1]:""].join("")};b.DefaultLocationProxy.prototype={bind:function(){var e=this,n=this.app,l=b.DefaultLocationProxy;h(f).bind("hashchange."+this.app.eventNamespace(),function(b,h){!1===e.is_native&&!h&&(e.is_native=
!0,f.clearInterval(l._interval));n.trigger("location-changed")});A&&!n.disable_push_state&&(h(f).bind("popstate."+this.app.eventNamespace(),function(e){n.trigger("location-changed")}),h("a").live("click.history-"+this.app.eventNamespace(),function(b){var h=l.fullPath(this);if(this.hostname==f.location.hostname&&n.lookupRoute("get",h))return b.preventDefault(),e.setLocation(h),!1}));l._bindings||(l._bindings=0);l._bindings++},unbind:function(){h(f).unbind("hashchange."+this.app.eventNamespace());h(f).unbind("popstate."+
this.app.eventNamespace());h("a").die("click.history-"+this.app.eventNamespace());b.DefaultLocationProxy._bindings--;0>=b.DefaultLocationProxy._bindings&&f.clearInterval(b.DefaultLocationProxy._interval)},getLocation:function(){return b.DefaultLocationProxy.fullPath(f.location)},setLocation:function(e){/^([^#\/]|$)/.test(e)&&(e=A?"/"+e:"#!/"+e);if(e!=this.getLocation())if(A&&/^\//.test(e))history.pushState({path:e},f.title,e),this.app.trigger("location-changed");else return f.location=e},_startPolling:function(e){var n=
this;if(!b.DefaultLocationProxy._interval){e||(e=10);var l=function(){var e=n.getLocation();("undefined"==typeof b.DefaultLocationProxy._last_location||e!=b.DefaultLocationProxy._last_location)&&f.setTimeout(function(){h(f).trigger("hashchange",[!0])},0);b.DefaultLocationProxy._last_location=e};l();b.DefaultLocationProxy._interval=f.setInterval(l,e)}}};b.Application=function(e){var f=this;this.routes={};this.listeners=new b.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+
"-"+parseInt(1E3*Math.random(),10);this.context_prototype=function(){b.EventContext.apply(this,arguments)};this.context_prototype.prototype=new b.EventContext;r(e)&&e.apply(this,[this]);this._location_proxy||this.setLocationProxy(new b.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(e,b){f.log(f.toString(),e.cleaned_type,b||{})})};b.Application.prototype=h.extend({},b.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:"run unload lookup-route run-route route-found event-context-before event-context-after changed error check-form-submission redirect location-changed".split(" "),
_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(e){return e?h(this.element_selector).find(e):h(this.element_selector)},use:function(){var e=t(arguments),f=e.shift(),h=f||"";try{e.unshift(this),"string"==typeof f&&(h="Sammy."+f,f=b[f]),f.apply(this,e)}catch(l){"undefined"===typeof f?this.error("Plugin Error: called use() but plugin ("+
h.toString()+") is not defined",l):r(f)?this.error("Plugin Error",l):this.error("Plugin Error: called use() but '"+h.toString()+"' is not a function",l)}return this},setLocationProxy:function(e){var b=this._location_proxy;this._location_proxy=e;this.isRunning()&&(b&&b.unbind(),this._location_proxy.bind())},log:function(){b.log.apply(b,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(e,b,f){var m=this,t=[],z,u;!f&&r(b)&&(f=b=e,e="any");e=e.toLowerCase();if(b.constructor==
String){for(l.lastIndex=0;null!==(u=l.exec(b));)t.push(u[1]);b=RegExp(b.replace(l,"([^/]+)")+"$")}"string"==typeof f&&(f=m[f]);z=function(e){var h={verb:e,path:b,callback:f,param_names:t};m.routes[e]=m.routes[e]||[];m.routes[e].push(h)};"any"===e?h.each(this.ROUTE_VERBS,function(e,b){z(b)}):z(e);return this},get:K("get"),post:K("post"),put:K("put"),del:K("delete"),any:K("any"),mapRoutes:function(e){var b=this;h.each(e,function(e,f){b.route.apply(b,f)});return this},eventNamespace:function(){return["sammy-app",
this.namespace].join("-")},bind:function(e,b,f){var h=this;"undefined"==typeof f&&(f=b);b=function(e,b){var n;b&&b.context?(n=b.context,delete b.context):n=new h.context_prototype(h,"bind",e.type,b,e.target);e.cleaned_type=e.type.replace(h.eventNamespace(),"");f.apply(n,[e,b])};this.listeners[e]||(this.listeners[e]=[]);this.listeners[e].push(b);this.isRunning()&&this._listen(e,b);return this},trigger:function(e,b){this.$element().trigger([e,this.eventNamespace()].join("."),[b]);return this},refresh:function(){this.last_location=
null;this.trigger("location-changed");return this},before:function(e,b){r(e)&&(b=e,e={});this.befores.push([e,b]);return this},after:function(e){return this.bind("event-context-after",e)},around:function(e){this.arounds.push(e);return this},isRunning:function(){return this._running},helpers:function(e){h.extend(this.context_prototype.prototype,e);return this},helper:function(e,b){this.context_prototype.prototype[e]=b;return this},run:function(e){if(this.isRunning())return!1;var b=this;h.each(this.listeners.toHash(),
function(e,f){h.each(f,function(f,h){b._listen(e,h)})});this.trigger("run",{start_url:e});this._running=!0;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&"undefined"!=typeof e&&this.setLocation(e);this._checkLocation();this._location_proxy.bind();this.bind("location-changed",function(){b._checkLocation()});this.bind("submit",function(e){return!1===b._checkFormSubmission(h(e.target).closest("form"))?e.preventDefault():!1});h(f).bind("beforeunload",function(){b.unload()});return this.trigger("changed")},
unload:function(){if(!this.isRunning())return!1;var e=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(e.eventNamespace());h.each(this.listeners.toHash(),function(b,f){h.each(f,function(f,h){e._unlisten(b,h)})});this._running=!1;return this},bindToAllEvents:function(e){var b=this;h.each(this.APP_EVENTS,function(f,h){b.bind(h,e)});h.each(this.listeners.keys(!0),function(f,l){-1==h.inArray(l,b.APP_EVENTS)&&b.bind(l,e)});return this},routablePath:function(e){return e.replace(m,
"")},lookupRoute:function(e,b){var f=!1,h=0,l,m;if("undefined"!=typeof this.routes[e])for(l=this.routes[e].length;h<l;h++)if(m=this.routes[e][h],this.routablePath(b).match(m.path)){f=m;break}return f},runRoute:function(e,b,f,l){var m=this,r=this.lookupRoute(e,b),t,u,x,D,G,y,s;this.log("runRoute",[e,b].join(" "));this.trigger("run-route",{verb:e,path:b,params:f});"undefined"==typeof f&&(f={});h.extend(f,this._parseQueryString(b));if(r){this.trigger("route-found",{route:r});if(null!==(y=r.path.exec(this.routablePath(b))))y.shift(),
h.each(y,function(e,b){r.param_names[e]?f[r.param_names[e]]=E(b):(f.splat||(f.splat=[]),f.splat.push(E(b)))});t=new this.context_prototype(this,e,b,f,l);l=this.arounds.slice(0);x=this.befores.slice(0);G=[t].concat(f.splat);u=function(){for(var e;0<x.length;)if(D=x.shift(),m.contextMatchesOptions(t,D[0])&&(e=D[1].apply(t,[t]),!1===e))return!1;m.last_route=r;t.trigger("event-context-before",{context:t});e=r.callback.apply(t,G);t.trigger("event-context-after",{context:t});return e};h.each(l.reverse(),
function(e,b){var d=u;u=function(){return b.apply(t,[d])}});try{s=u()}catch(v){this.error(["500 Error",e,b].join(" "),v)}return s}return this.notFound(e,b)},contextMatchesOptions:function(e,b,f){if("undefined"===typeof b||b=={})return!0;"undefined"===typeof f&&(f=!0);if("string"===typeof b||r(b.test))b={path:b};if(b.only)return this.contextMatchesOptions(e,b.only,!0);if(b.except)return this.contextMatchesOptions(e,b.except,!1);var h=!0,l=!0;b.path&&(r(b.path.test)||(b.path=RegExp(b.path.toString()+
"$")),h=b.path.test(e.path));b.verb&&(l="string"===typeof b.verb?b.verb===e.verb:-1<b.verb.indexOf(e.verb));return f?l&&h:!(l&&h)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(e){return this._location_proxy.setLocation(e)},swap:function(e){return this.$element().html(e)},templateCache:function(e,b){return"undefined"!=typeof b?u[e]=b:u[e]},clearTemplateCache:function(){return u={}},notFound:function(e,b){var f=this.error(["404 Not Found",e,b].join(" "));return"get"===
e?f:!0},error:function(e,b){b||(b=Error());b.message=[e,b.message].join(" ");this.trigger("error",{message:b.message,error:b});if(this.raise_errors)throw b;this.log(b.message,b)},_checkLocation:function(){var e,b;e=this.getLocation();if(!this.last_location||"get"!=this.last_location[0]||this.last_location[1]!=e)this.last_location=["get",e],b=this.runRoute("get",e);return b},_getFormVerb:function(e){e=h(e);var b,f;f=e.find('input[name="_method"]');0<f.length&&(b=f.val());b||(b=e[0].getAttribute("method"));
if(!b||""==b)b="get";return h.trim(b.toString().toLowerCase())},_checkFormSubmission:function(e){var b,f,l;this.trigger("check-form-submission",{form:e});b=h(e);f=b.attr("action")||"";l=this._getFormVerb(b);this.log("_checkFormSubmission",b,f,l);"get"===l?(b=this._serializeFormParams(b),""!==b&&(f+="?"+b),this.setLocation(f),e=!1):(b=h.extend({},this._parseFormParams(b)),e=this.runRoute(l,f,b,e.get(0)));return"undefined"==typeof e?!1:e},_serializeFormParams:function(e){var b="";e=e.serializeArray();
var f;if(0<e.length){b=this._encodeFormPair(e[0].name,e[0].value);for(f=1;f<e.length;f++)b=b+"&"+this._encodeFormPair(e[f].name,e[f].value)}return b},_encodeFormPair:function(e,b){return I(e)+"="+I(b)},_parseFormParams:function(e){var b={};e=e.serializeArray();var f;for(f=0;f<e.length;f++)b=this._parseParamPair(b,e[f].name,e[f].value);return b},_parseQueryString:function(e){var b={},f,h;if(e=e.match(m)){e=e[1].split("&");for(h=0;h<e.length;h++)f=e[h].split("="),b=this._parseParamPair(b,E(f[0]),E(f[1]||
""))}return b},_parseParamPair:function(e,b,f){e[b]?y(e[b])?e[b].push(f):e[b]=[e[b],f]:e[b]=f;return e},_listen:function(e,b){return this.$element().bind([e,this.eventNamespace()].join("."),b)},_unlisten:function(e,b){return this.$element().unbind([e,this.eventNamespace()].join("."),b)}});b.RenderContext=function(e){this.event_context=e;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=!1};b.RenderContext.prototype=h.extend({},b.Object.prototype,{then:function(e){if(!r(e))if("string"===
typeof e&&e in this.event_context){var b=this.event_context[e];e=function(e){return b.apply(this.event_context,[e])}}else return this;var h=this;this.waiting?this.callbacks.push(e):(this.wait(),f.setTimeout(function(){var b=e.apply(h,[h.content,h.previous_content]);!1!==b&&h.next(b)},0));return this},wait:function(){this.waiting=!0},next:function(e){this.waiting=!1;"undefined"!==typeof e&&(this.previous_content=this.content,this.content=e);0<this.callbacks.length&&this.then(this.callbacks.shift())},
load:function(e,b,f){var l=this;return this.then(function(){var m,t,u;r(b)?(f=b,b={}):b=h.extend({},b);f&&this.then(f);if("string"===typeof e){m=(u=e.match(/\.json$/)||b.json)&&!0===b.cache||!1!==b.cache;l.next_engine=l.event_context.engineFor(e);delete b.cache;delete b.json;b.engine&&(l.next_engine=b.engine,delete b.engine);if(m&&(t=this.event_context.app.templateCache(e)))return t;this.wait();h.ajax(h.extend({url:e,data:{},dataType:u?"json":null,type:"get",success:function(b){m&&l.event_context.app.templateCache(e,
b);l.next(b)}},b));return!1}if(e.nodeType)return e.innerHTML;if(e.selector)return l.next_engine=e.attr("data-engine"),!1===b.clone?e.remove()[0].innerHTML.toString():e[0].innerHTML.toString()})},loadPartials:function(b){if(b)for(name in this.partials=this.partials||{},b)this.load(b[name]).then(function(b){this.partials[name]=b});return this},render:function(b,f,h,l){return r(b)&&!f?this.then(b):this.loadPartials(l).load(b).interpolate(f,b).then(h)},partial:function(b,f){return this.render(b,f).swap()},
send:function(){var b=this,f=t(arguments),h=f.shift();y(f[0])&&(f=f[0]);return this.then(function(l){f.push(function(f){b.next(f)});b.wait();h.apply(h,f);return!1})},collect:function(b,f,l){var m=this,t=function(){r(b)&&(f=b,b=this.content);var l=[],q=!1;h.each(b,function(b,e){var h=f.apply(m,[b,e]);h.jquery&&1==h.length&&(h=h[0],q=!0);l.push(h);return h});return q?l:l.join("")};return l?t():this.then(t)},renderEach:function(b,f,l,m){y(f)&&(m=l,l=f,f=null);return this.load(b).then(function(r){var t=
this;l||(l=y(this.previous_content)?this.previous_content:[]);if(m)h.each(l,function(h,l){var x={},q=this.next_engine||b;f?x[f]=l:x=l;m(l,t.event_context.interpolate(r,x,q))});else return this.collect(l,function(h,l){var m={},q=this.next_engine||b;f?m[f]=l:m=l;return this.event_context.interpolate(r,m,q)},!0)})},interpolate:function(b,f,h){var l=this;return this.then(function(m,r){!b&&r&&(b=r);this.next_engine&&(f=this.next_engine,this.next_engine=!1);var t=l.event_context.interpolate(m,b,f,this.partials);
return h?r+t:t})},swap:function(){return this.then(function(b){this.event_context.swap(b)}).trigger("changed",{})},appendTo:function(b){return this.then(function(f){h(b).append(f)}).trigger("changed",{})},prependTo:function(b){return this.then(function(f){h(b).prepend(f)}).trigger("changed",{})},replace:function(b){return this.then(function(f){h(b).html(f)}).trigger("changed",{})},trigger:function(b,f){return this.then(function(h){"undefined"==typeof f&&(f={content:h});this.event_context.trigger(b,
f)})}});b.EventContext=function(e,f,h,l,m){this.app=e;this.verb=f;this.path=h;this.params=new b.Object(l);this.target=m};b.EventContext.prototype=h.extend({},b.Object.prototype,{$element:function(){return this.app.$element(t(arguments).shift())},engineFor:function(b){var f;if(r(b))return b;b=(b||this.app.template_engine).toString();if(f=b.match(/\.([^\.\?\#]+)$/))b=f[1];return b&&r(this[b])?this[b]:this.app.template_engine?this.engineFor(this.app.template_engine):function(b,e){return b}},interpolate:function(b,
f,h,l){return this.engineFor(h).apply(this,[b,f,l])},render:function(e,f,h,l){return(new b.RenderContext(this)).render(e,f,h,l)},renderEach:function(e,f,h,l){return(new b.RenderContext(this)).renderEach(e,f,h,l)},load:function(e,f,h){return(new b.RenderContext(this)).load(e,f,h)},partial:function(e,f){return(new b.RenderContext(this)).partial(e,f)},send:function(){var e=new b.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var b;b=t(arguments);var f=this.app.getLocation(),
l=b.length;if(1<l){for(var m=0,r=[],u=[],y={},A=!1;m<l;m++)"string"==typeof b[m]?r.push(b[m]):(h.extend(y,b[m]),A=!0);b=r.join("/");if(A){for(var x in y)u.push(this.app._encodeFormPair(x,y[x]));b+="?"+u.join("&")}}else b=b[0];this.trigger("redirect",{to:b});this.app.last_location=[this.verb,this.path];this.app.setLocation(b);RegExp(b).test(f)&&this.app.trigger("location-changed")},trigger:function(b,f){"undefined"==typeof f&&(f={});f.context||(f.context=this);return this.app.trigger(b,f)},eventNamespace:function(){return this.app.eventNamespace()},
swap:function(b){return this.app.swap(b)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(b){return h.parseJSON(b)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});h.sammy=f.Sammy=b})(jQuery,window);
(function(h){function f(b){b=unescape(b);return"true"===b?!0:"false"===b?!1:b}function b(l,m,t){var r;if(m.match(/^[^\[]+$/))l[m]=f(t);else if(r=m.match(/^([^\[]+)\[\](.*)$/)){m=r[1];r=r[2];if(l[m]&&!h.isArray(l[m]))throw"400 Bad Request";if(r){r=r.match(/^\[([^\]]+)\](.*)$/);if(!r)throw"400 Bad Request";l[m]?l[m][l[m].length-1][r[1]]?l[m].push(b({},r[1]+r[2],t)):h.extend(!0,l[m][l[m].length-1],b({},r[1]+r[2],t)):l[m]=[b({},r[1]+r[2],t)]}else l[m]?l[m].push(f(t)):l[m]=[f(t)]}else if(r=m.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){m=
r[1];r=r[2]+r[3];if(l[m]&&h.isArray(l[m]))throw"400 Bad Request";l[m]?h.extend(!0,l[m],b(l[m],r,t)):l[m]=b({},r,t)}return l}Sammy=Sammy||{};Sammy.NestedParams=function(f){f._parseParamPair=b}})(jQuery);
(function(h){var f=function(){var b=Sammy.makeArray(arguments),f=b.shift(),h=b.shift();Sammy.isFunction(f)&&setTimeout(function(){f.apply(h||{},b)},0)};Sammy=Sammy||{};Sammy.Store=function(b){this.options=b||{};this.name=this.options.name||"store";this.app=this.options.app;if(Sammy.isArray(this.options.type)){b=0;for(var f=this.options.type.length,h;b<f;b++)if(h=this.options.type[b],Sammy.Store.isAvailable(h)){this.type=h;break}}else this.type=this.options.type||"memory";this.storage=new Sammy.Store[Sammy.Store.stores[this.type]](this.name,
this.options)};Sammy.Store.stores={memory:"Memory",local:"LocalStorage",session:"SessionStorage",cookie:"Cookie"};Sammy.extend(Sammy.Store.prototype,{isAvailable:function(){return Sammy.isFunction(this.storage.isAvailable)?this.storage.isAvailable():!0},exists:function(b,f){this.storage.exists(b,f);return this},set:function(b,h,m){var t="string"==typeof h?h:JSON.stringify(h),r=this;b=b.toString();this.storage.set(b,t,function(){r.app&&(r.app.trigger("set-"+r.name,{key:b,value:h}),r.app.trigger("set-"+
r.name+"-"+b,{key:b,value:h}));f(m,r,h,b)});return this},get:function(b,h){var m=this;this.storage.get(b,function(b){var r;if("undefined"==typeof b||null===b||""===b)r=b;try{r=JSON.parse(b)}catch(y){r=b}f(h,m,r)});return this},clear:function(b,h){var m=this;this.storage.clear(b,function(){f(h,m)});return this},clearAll:function(b){var h=this;this.storage.clearAll(function(){f(b,h)});return this}});Sammy.Store.isAvailable=function(b){try{return Sammy.Store[Sammy.Store.stores[b]].prototype.isAvailable()}catch(f){return!1}};
Sammy.Store.Memory=function(b){this.name=b;Sammy.Store.Memory.store=Sammy.Store.Memory.store||{};Sammy.Store.Memory.store[this.name]=Sammy.Store.Memory.store[this.name]||{};this.store=Sammy.Store.Memory.store[this.name]};Sammy.extend(Sammy.Store.Memory.prototype,{isAvailable:function(){return!0},exists:function(b,h){return f(h,this,this.store.hasOwnProperty(b))},set:function(b,h,m){return f(m,this,this.store[b]=h,b)},get:function(b,h){return f(h,this,this.store[b])},clear:function(b,h){delete Sammy.Store.Memory.store[this.name][b];
return f(h,this,b)},clearAll:function(b){this.store=Sammy.Store.Memory.store[this.name]={};return f(b,this,!0)}});Sammy.Store.LocalStorage=function(b){this.name=b;this.key_prefix=["store",this.name].join(".");this.meta_key="__"+b+"_keys__"};Sammy.extend(Sammy.Store.LocalStorage.prototype,{storage:window.localStorage,isAvailable:function(){return null!==this.storage&&"file:"!=window.location.protocol},exists:function(b,h){this.get(b,function(b){f(h,this,null!==b)})},set:function(b,h,m){this.storage.setItem(this._key(b),
h);f(m,this,h,b)},get:function(b,h){var m=this.storage.getItem(this._key(b));m&&"undefined"!=typeof m.value&&(m=m.value);f(h,this,m)},clear:function(b,h){this.storage.removeItem(this._key(b));f(h,this,b)},clearAll:function(b){for(var h=0,m=this.storage.length,t,r=RegExp("^"+this.key_prefix.replace(".","\\.")+"\\.");h<m;h++)try{t=this.storage.key(h),r.test(t)&&this.storage.removeItem(t)}catch(y){}f(b,this,!0)},_key:function(b){return[this.key_prefix,b].join(".")}});Sammy.Store.SessionStorage=function(b){this.name=
b;this.key_prefix=["store",this.name].join(".");this.meta_key="__"+b+"_keys__"};Sammy.extend(Sammy.Store.SessionStorage.prototype,Sammy.Store.LocalStorage.prototype,{storage:window.sessionStorage});Sammy.Store.Cookie=function(b,f){this.name=b;this.options=f||{};this.path=this.options.path||"/";this.expires_in=this.options.expires_in||1209600};h.extend(Sammy.Store.Cookie.prototype,{isAvailable:function(){return"cookie"in document&&"file:"!=window.location.protocol},exists:function(b,h){this.get(b,
function(b){f(h,this,null!==b)})},set:function(b,h,m){this._setCookie(b,h);f(m,!1,h,b)},get:function(b,h){f(h,!1,this._getCookie(b))},clear:function(b,h){this._setCookie(b,"",-1);f(h,!1,b)},clearAll:function(b){f(b,!0)},_key:function(b){return["store",this.name,b].join(".")},_escapedKey:function(b){return b.replace(/(\.|\*|\(|\)|\[|\])/g,"\\$1")},_getCookie:function(b){return(b=document.cookie.match("(^|;\\s)"+this._escapedKey(this._key(b))+"=([^;]*)(;|$)"))?b[2]:null},_setCookie:function(b,f,h){h||
(h=1E3*this.expires_in);var t=new Date;t.setTime(t.getTime()+h);b=[this._key(b),"=",f,"; expires=",t.toGMTString(),"; path=",this.path].join("");document.cookie=b}});Sammy.Storage=function(b){this.stores=this.stores||{};this.store=function(b,f){if("undefined"==typeof this.stores[b]){var t="clear"+b.substr(0,1).toUpperCase()+b.substr(1);this.stores[b]=new Sammy.Store(h.extend({name:b,element:this.element_selector},f||{}));this[b]=function(f,h,m){return"undefined"==typeof f?this.stores[b]:"undefined"==
typeof m&&Sammy.isFunction(h)?this.stores[b].get(f,h):this.stores[b].set(f,h,m)};this[t]=function(f){return this.stores[b].clearAll(f)};this.helper(b,function(){return this.app[b].apply(this.app,arguments)});this.helper(t,function(b){return this.app[t](b)})}return this.stores[b]};this.helpers({store:function(){return this.app.store.apply(this.app,arguments)}})};Sammy.Session=function(b,f){this.use("Storage");this.store("session",h.extend({type:["local","cookie","memory"]},f))};Sammy.Cache=function(b,
f){this.use("Storage");this.cache_partials=!0;this.store("cache",h.extend({type:["local","session","memory"]},f))}})(jQuery);
var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){return"/images/"},bind:function(){for(var h=RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),f=document.getElementsByTagName("input"),b=0;b<f.length;b+=1){var l;if(!f[b].color&&f[b].className&&(l=f[b].className.match(h))){if(l[3])try{eval("prop="+l[3])}catch(m){}f[b].color=
new jscolor.color(f[b],{})}}},preload:function(){for(var h in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(h)&&jscolor.loadImage(h)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(h){jscolor.imgRequire[h]=!0},loadImage:function(h){jscolor.imgLoaded[h]||(jscolor.imgLoaded[h]=new Image,jscolor.imgLoaded[h].src="/images/"+h)},fetchElement:function(h){return"string"===typeof h?document.getElementById(h):h},addEvent:function(h,f,
b){h.addEventListener?h.addEventListener(f,b,!1):h.attachEvent&&h.attachEvent("on"+f,b)},fireEvent:function(h,f){if(h)if(document.createEvent){var b=document.createEvent("HTMLEvents");b.initEvent(f,!0,!0);h.dispatchEvent(b)}else if(document.createEventObject)b=document.createEventObject(),h.fireEvent("on"+f,b);else if(h["on"+f])h["on"+f]()},getElementPos:function(h){var f=h,b=0,l=0;if(f.offsetParent){do b+=f.offsetLeft,l+=f.offsetTop;while(f=f.offsetParent)}for(;(h=h.parentNode)&&"BODY"!==h.nodeName.toUpperCase();)b-=
h.scrollLeft,l-=h.scrollTop;return[b,l]},getElementSize:function(h){return[h.offsetWidth,h.offsetHeight]},getRelMousePos:function(h){var f=0,b=0;h||(h=window.event);"number"===typeof h.offsetX?(f=h.offsetX,b=h.offsetY):"number"===typeof h.layerX&&(f=h.layerX,b=h.layerY);return{x:f,y:b}},getViewPos:function(){return"number"===typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"===typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},color:function(h,f){function b(b,e,f){if(null===b)return[f,f,f];var h=Math.floor(b),l=f*(1-e);b=f*(1-e*(h%2?b-h:1-(b-h)));switch(h){case 6:case 0:return[f,b,l];case 1:return[b,f,l];case 2:return[l,f,b];case 3:return[l,b,f];case 4:return[b,l,f];case 5:return[f,l,b]}}function l(b,f){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),
padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(u.pickerCloseText)};for(var l=0;l<jscolor.images.sld[1];l+=4){var n=document.createElement("div");n.style.height="4px";n.style.fontSize="1px";n.style.lineHeight="0";jscolor.picker.sld.appendChild(n)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);
jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var s=jscolor.picker;s.box.onmouseup=
s.box.onmouseout=function(){h.focus()};s.box.onmousedown=function(){F=!0};s.box.onmousemove=function(b){if(q||B)q&&I(b),B&&C(b),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()};s.padM.onmouseup=s.padM.onmouseout=function(){q&&(q=!1,jscolor.fireEvent(e,"change"))};s.padM.onmousedown=function(b){q=!0;I(b)};s.sldM.onmouseup=s.sldM.onmouseout=function(){B&&(B=!1,jscolor.fireEvent(e,"change"))};s.sldM.onmousedown=function(b){B=!0;C(b)};l=m(u);
s.box.style.width=l[0]+"px";s.box.style.height=l[1]+"px";s.boxB.style.position="absolute";s.boxB.style.clear="both";s.boxB.style.left=b+"px";s.boxB.style.top=f+"px";s.boxB.style.zIndex=u.pickerZIndex;s.boxB.style.border=u.pickerBorder+"px solid";s.boxB.style.borderColor=u.pickerBorderColor;s.boxB.style.background=u.pickerFaceColor;s.pad.style.width=jscolor.images.pad[0]+"px";s.pad.style.height=jscolor.images.pad[1]+"px";s.padB.style.position="absolute";s.padB.style.left=u.pickerFace+"px";s.padB.style.top=
u.pickerFace+"px";s.padB.style.border=u.pickerInset+"px solid";s.padB.style.borderColor=u.pickerInsetColor;s.padM.style.position="absolute";s.padM.style.left="0";s.padM.style.top="0";s.padM.style.width=u.pickerFace+2*u.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";s.padM.style.height=s.box.style.height;s.padM.style.cursor="crosshair";s.sld.style.overflow="hidden";s.sld.style.width=jscolor.images.sld[0]+"px";s.sld.style.height=jscolor.images.sld[1]+"px";s.sldB.style.display=u.slider?
"block":"none";s.sldB.style.position="absolute";s.sldB.style.right=u.pickerFace+"px";s.sldB.style.top=u.pickerFace+"px";s.sldB.style.border=u.pickerInset+"px solid";s.sldB.style.borderColor=u.pickerInsetColor;s.sldM.style.display=u.slider?"block":"none";s.sldM.style.position="absolute";s.sldM.style.right="0";s.sldM.style.top="0";s.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+u.pickerFace+2*u.pickerInset+"px";s.sldM.style.height=s.box.style.height;try{s.sldM.style.cursor="pointer"}catch(v){s.sldM.style.cursor=
"hand"}s.btn.style.display=u.pickerClosable?"block":"none";s.btn.style.position="absolute";s.btn.style.left=u.pickerFace+"px";s.btn.style.bottom=u.pickerFace+"px";s.btn.style.padding="0 15px";s.btn.style.height="18px";s.btn.style.border=u.pickerInset+"px solid";(function(){var b=u.pickerInsetColor.split(/\s+/);s.btn.style.borderColor=2>b.length?b[0]:b[1]+" "+b[0]+" "+b[0]+" "+b[1]})();s.btn.style.color=u.pickerButtonColor;s.btn.style.font="12px sans-serif";s.btn.style.textAlign="center";try{s.btn.style.cursor=
"pointer"}catch(y){s.btn.style.cursor="hand"}s.btn.onmousedown=function(){u.hidePicker()};s.btnS.style.lineHeight=s.btn.style.height;switch(A){case 0:var z="hs.png";break;case 1:z="hv.png"}s.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')";s.padM.style.backgroundRepeat="no-repeat";s.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')";s.sldM.style.backgroundRepeat="no-repeat";s.pad.style.backgroundImage="url('"+jscolor.getDir()+z+"')";s.pad.style.backgroundRepeat="no-repeat";
s.pad.style.backgroundPosition="0 0";t();r();jscolor.picker.owner=u;document.getElementsByTagName("body")[0].appendChild(s.boxB)}function m(b){return[2*b.pickerInset+2*b.pickerFace+jscolor.images.pad[0]+(b.slider?2*b.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),b.pickerClosable?4*b.pickerInset+3*b.pickerFace+jscolor.images.pad[1]+b.pickerButtonHeight:2*b.pickerInset+2*b.pickerFace+jscolor.images.pad[1]]}function t(){switch(A){case 0:var e=1;break;case 1:e=2}var f=Math.round(u.hsv[0]/
6*(jscolor.images.pad[0]-1)),e=Math.round((1-u.hsv[e])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=u.pickerFace+u.pickerInset+f-Math.floor(jscolor.images.cross[0]/2)+"px "+(u.pickerFace+u.pickerInset+e-Math.floor(jscolor.images.cross[1]/2))+"px";f=jscolor.picker.sld.childNodes;switch(A){case 0:for(var h=b(u.hsv[0],u.hsv[1],1),e=0;e<f.length;e+=1)f[e].style.backgroundColor="rgb("+100*h[0]*(1-e/f.length)+"%,"+100*h[1]*(1-e/f.length)+"%,"+100*h[2]*(1-e/f.length)+"%)";break;
case 1:var l,m=[u.hsv[2],0,0],e=Math.floor(u.hsv[0]),n=e%2?u.hsv[0]-e:1-(u.hsv[0]-e);switch(e){case 6:case 0:h=[0,1,2];break;case 1:h=[1,0,2];break;case 2:h=[2,0,1];break;case 3:h=[2,1,0];break;case 4:h=[1,2,0];break;case 5:h=[0,2,1]}for(e=0;e<f.length;e+=1)l=1-1/(f.length-1)*e,m[1]=m[0]*(1-l*n),m[2]=m[0]*(1-l),f[e].style.backgroundColor="rgb("+100*m[h[0]]+"%,"+100*m[h[1]]+"%,"+100*m[h[2]]+"%)"}}function r(){switch(A){case 0:var b=2;break;case 1:b=1}b=Math.round((1-u.hsv[b])*(jscolor.images.sld[1]-
1));jscolor.picker.sldM.style.backgroundPosition="0 "+(u.pickerFace+u.pickerInset+b-Math.floor(jscolor.images.arrow[1]/2))+"px"}function y(){return jscolor.picker&&jscolor.picker.owner===u}function E(){e!==h&&u.importColor()}function I(b){var e=jscolor.getRelMousePos(b);b=e.x-u.pickerFace-u.pickerInset;e=e.y-u.pickerFace-u.pickerInset;switch(A){case 0:u.fromHSV(b*(6/(jscolor.images.pad[0]-1)),1-e/(jscolor.images.pad[1]-1),null,M);break;case 1:u.fromHSV(b*(6/(jscolor.images.pad[0]-1)),null,1-e/(jscolor.images.pad[1]-
1),M)}}function C(b){b=jscolor.getRelMousePos(b).y-u.pickerFace-u.pickerInset;switch(A){case 0:u.fromHSV(null,null,1-b/(jscolor.images.sld[1]-1),J);break;case 1:u.fromHSV(null,1-b/(jscolor.images.sld[1]-1),null,J)}}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=h;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="Close";
this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var K in f)f.hasOwnProperty(K)&&(this[K]=f[K]);this.hidePicker=function(){y()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};
this.showPicker=function(){if(!y()){var b=jscolor.getElementPos(h),e=jscolor.getElementSize(h),f=jscolor.getViewPos(),n=jscolor.getViewSize(),s=m(this),r,q,t;switch(this.pickerPosition.toLowerCase()){case "left":r=1;q=0;t=-1;break;case "right":r=1;q=0;t=1;break;case "top":r=0;q=1;t=-1;break;default:r=0,t=q=1}var d=(e[q]+s[q])/2,b=[-f[r]+b[r]+s[r]>n[r]?-f[r]+b[r]+e[r]/2>n[r]/2&&0<=b[r]+e[r]-s[r]?b[r]+e[r]-s[r]:b[r]:b[r],-f[q]+b[q]+e[q]+s[q]-d+d*t>n[q]?-f[q]+b[q]+e[q]/2>n[q]/2&&0<=b[q]+e[q]-d-d*t?b[q]+
e[q]-d-d*t:b[q]+e[q]-d+d*t:0<=b[q]+e[q]-d+d*t?b[q]+e[q]-d+d*t:b[q]+e[q]-d-d*t];l(b[r],b[q])}};this.importColor=function(){e?this.adjust?!this.required&&/^\s*$/.test(e.value)?(e.value="",n.style.backgroundColor=n.jscStyle.backgroundColor,n.style.color=n.jscStyle.color,this.exportColor(L|z)):this.fromString(e.value)||this.exportColor():this.fromString(e.value,L)||(n.style.backgroundColor=n.jscStyle.backgroundColor,n.style.color=n.jscStyle.color,this.exportColor(L|z)):this.exportColor()};this.exportColor=
function(b){if(!(b&L)&&e){var f=this.toString();this.caps&&(f=f.toUpperCase());this.hash&&(f="#"+f);e.value=f}!(b&z)&&n&&(n.style.backgroundColor="#"+this.toString(),n.style.color=0.5>0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]?"#FFF":"#000");!(b&J)&&y()&&t();!(b&M)&&y()&&r()};this.fromHSV=function(e,f,h,l){0>e&&(e=0)||6<e&&(e=6);0>f&&(f=0)||1<f&&(f=1);0>h&&(h=0)||1<h&&(h=1);this.rgb=b(null===e?this.hsv[0]:this.hsv[0]=e,null===f?this.hsv[1]:this.hsv[1]=f,null===h?this.hsv[2]:this.hsv[2]=
h);this.exportColor(l)};this.fromRGB=function(b,e,f,h){0>b&&(b=0)||1<b&&(b=1);0>e&&(e=0)||1<e&&(e=1);0>f&&(f=0)||1<f&&(f=1);b=null===b?this.rgb[0]:this.rgb[0]=b;e=null===e?this.rgb[1]:this.rgb[1]=e;var l=null===f?this.rgb[2]:this.rgb[2]=f,m=Math.min(Math.min(b,e),l);f=Math.max(Math.max(b,e),l);var n=f-m;0===n?b=[null,0,f]:(b=b===m?3+(l-e)/n:e===m?5+(b-l)/n:1+(e-b)/n,b=[6===b?0:b,n/f,f]);null!==b[0]&&(this.hsv[0]=b[0]);0!==b[2]&&(this.hsv[1]=b[1]);this.hsv[2]=b[2];this.exportColor(h)};this.fromString=
function(b,e){var f=b.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return f?(6===f[1].length?this.fromRGB(parseInt(f[1].substr(0,2),16)/255,parseInt(f[1].substr(2,2),16)/255,parseInt(f[1].substr(4,2),16)/255,e):this.fromRGB(parseInt(f[1].charAt(0)+f[1].charAt(0),16)/255,parseInt(f[1].charAt(1)+f[1].charAt(1),16)/255,parseInt(f[1].charAt(2)+f[1].charAt(2),16)/255,e),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+
(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var u=this,A="hvs"===this.pickerMode.toLowerCase()?1:0,F=!1,e=jscolor.fetchElement(this.valueElement),n=jscolor.fetchElement(this.styleElement),q=!1,B=!1,L=1,z=2,J=4,M=8;jscolor.addEvent(h,"focus",function(){u.pickerOnfocus&&u.showPicker()});jscolor.addEvent(h,"blur",function(){F?F=!1:window.setTimeout(function(){F||(e===h&&u.importColor(),u.pickerOnfocus&&u.hidePicker());F=!1},0)});e&&(K=function(){u.fromString(e.value,L)},jscolor.addEvent(e,
"keyup",K),jscolor.addEvent(e,"input",K),jscolor.addEvent(e,"blur",E),e.setAttribute("autocomplete","off"));n&&(n.jscStyle={backgroundColor:n.style.backgroundColor,color:n.style.color});switch(A){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif");jscolor.requireImage("arrow.gif");this.importColor()}};jscolor.install();(function(h){h.extend(h.fn,{dimensions:function(){var f=h(this);return{width:f.width(),height:f.height()}}})})(jQuery);
Graphiti=window.Graphiti||{};Graphiti.Graph=function(h){this.options={};this.targets=[];this.parsedTargets=[];var f={width:950,height:400,from:"-6hour",fontSize:"10",title:"",targets:[]};h.options?$.extend(!0,this.options,f,h.options):$.extend(!0,this.options,f);if(h.targets)for(var b=0,l=h.targets.length;b<l;b++)this.addTarget(h.targets[b]);!h.options&&!h.targets&&(h.charCodeAt?this.addTarget(h):h instanceof Array?this.addTarget(h):$.extend(this.options,f,h))};
Graphiti.Graph.prototype={urlBase:function(){return Graphiti.graphite_base_url+"/render/?"}(),updateOptions:function(h){$.extend(!0,this.options,h||{})},addTarget:function(h){var f="",b,l;if("string"==typeof h)b=h;else for(option in b=h[0],l=h[1],l){var m=option,f=l[option];"mostDeviant"==m?(f=JSON.stringify(f),b=[m,"(",f,",",b,")"].join("")):!0!==f?(f=JSON.stringify(f),b=""+m+"("+b+","+("["===f[0]&&f.substr(1,f.length-2)||f)+")"):b=[m,"(",b,")"].join("")}this.targets.push(h);this.parsedTargets.push(b);
return this},buildURL:function(){var h=this.urlBase,f=[],b=Graphiti.timeFrameOptions(),b=$.extend({},this.options,b);$.each(b,function(b,h){f.push(b+"="+encodeURIComponent(h))});$.each(this.parsedTargets,function(b,h){f.push("target="+encodeURIComponent(h))});f.push("_timestamp_="+(new Date).getTime());return h+f.join("&")+"#.png"},image:function(h){this.updateOptions(h.dimensions());h.bind("load",function(){$(this).removeClass("loading")}).addClass("loading").attr("src",this.buildURL());return h},
toJSON:function(){return JSON.stringify({options:this.options,targets:this.targets},null,2)},save:function(h,f){var b,l={graph:{title:this.options.title||"Untitled",url:this.buildURL(),json:this.toJSON()}};$.isFunction(h)&&(f=h,h=null);h?(b="/graphs/"+h,l._method="PUT"):b="/graphs";$.ajax({url:b,data:l,type:"post",success:f})},snapshot:function(h,f){$.ajax({type:"post",dataType:"json",url:"/graphs/"+h+"/snapshot",success:function(b){f(b.url)}})}};
var app=Sammy("body",function(){this.use("Session");this.use("NestedParams");var h=require("pilot/canon");this.registerShortcut=function(f,b,l){var m=this;m.bind(f,l);h.addCommand({name:f,bindKey:{win:"Ctrl-"+b,mac:"Command-"+b,sender:"editor"},exec:function(){m.trigger(f)}});key("command+"+b,function(){m.trigger(f);return!1})};this.helpers({showPane:function(f,b){var h="#"+f+"-pane";$(".pane:not("+h+")").hide();h=$(h);b&&h.html(b);return h.show()},setupEditor:function(){if(!this.app.editor){var f=
this.app.editor=ace.edit("editor");f.setTheme("ace/theme/textmate");var b=require("ace/mode/json").Mode,f=f.getSession();f.setMode(new b);f.setUseSoftTabs(!0);f.setTabSize(2)}},redrawPreview:function(){try{this.log("redraw"),this.graphPreview(this.getEditorJSON())}catch(f){alert(f)}return!1},showEditor:function(f,b){this.showPane("editor");f||(f=defaultGraph);this.setupEditor();f=this.setEditorJSON(f);$("#editor").show();this.graphPreview(JSON.parse(f));this.buildDashboardsDropdown(b);b?($("#graph-actions form").attr("data-action",
function(f,h){h&&$(this).attr("action",h.replace(/:uuid/,b))}).show(),$("[name=uuid]").val(b),$("#graph-actions").find(".update, .dashboard, .snapshots").show()):$("#graph-actions").find(".update, .dashboard, .snapshots").hide();this.toggleEditorPanesByPreference()},getEditorJSON:function(){return JSON.parse(this.app.editor.getSession().getValue())},setEditorJSON:function(f){"string"!=typeof f&&(f=JSON.stringify(f,null,2));this.app.editor.getSession().setValue(f);return f},graphPreview:function(f){this.session("lastPreview",
f,function(){var b=$("#graph-preview img"),h=$("#graph-url input"),m=$("#graph-preview"),t=f.options.height;m.height(t);b.height(t);m=new Graphiti.Graph(f);m.image(b);h.val(m.buildURL())});this.updateOptionsForm(f)},updateOptionsForm:function(f){f=f.options?f.options:f;var b,h=$("#graph-options form");for(b in f)""!=f[b]&&h.find('[name="options['+b+']"]').val(f[b])},saveOptions:function(f){var b=this.getEditorJSON();b.options?($.extend(b.options,f||{}),$("#graph-options form input:checkbox:not(:checked)").each(function(f,
h){delete b.options[h.name.substring(8,h.name.length-1)]})):b.options=f;this.graphPreview(b);this.setEditorJSON(b)},buildMetricsList:function(f,b){var h=f.find("li:first").clone();f.html("");for(var m=0,t=b.length;m<t;m++)h.clone().attr("id","metric_list_metric_"+m).find("strong").text(b[m]).end().appendTo(f).show()},bindMetricsList:function(){var f=this,b=$("#metrics-list ul"),h;$("#metrics-menu").find('input[type="search"]').live("keyup",function(){var b=$(this).val();h&&clearTimeout(h);h=setTimeout(function(){f.searchMetricsList(b)},
200)});f.searchMetricsList("");b.delegate("li a","click",function(b){b.preventDefault();b=$(this).attr("rel");var h=$(this).siblings("strong").text();Sammy.log("clicked",b,h);f[b+"GraphMetric"](h)}).addClass(".bound")},searchMetricsList:function(f){var b=this,h=$("#metrics-list ul"),m=$("#metrics-list .loading"),t=$("#metrics-list .empty"),r;r="/metrics.js?q="+f;if(!b.app.searching&&(4<f.length||0==f.length))return b.app.searching=!0,t.hide(),m.show(),this.load(r,{error:function(){m.hide();b.app.searching=
!1}}).then(function(f){f=f.metrics;m.hide();0<f.length?(h.show(),b.buildMetricsList(h,f)):t.show();b.app.searching=!1})},addGraphMetric:function(f){var b=this.getEditorJSON();b.targets.push([f,{}]);this.graphPreview(b);this.setEditorJSON(b)},replaceGraphMetric:function(f){var b=this.getEditorJSON();b.targets=[[f,{}]];this.graphPreview(b);this.setEditorJSON(b)},timestamp:function(f){"string"==typeof f&&(f=parseInt(f,10));return(new Date(1E3*f)).toString()},buildDashboardsDropdown:function(f){this.load("/dashboards.js",
{cache:!1,data:{uuid:f}}).then(function(b){var f=$('select[name="dashboard"]');f.html("");b=b.dashboards;for(var h=0,t=b.length,r;h<t;h++)r=b[h],$("<option />",{value:r.slug,text:r.title}).appendTo(f)})},buildSnapshotsDropdown:function(f,b){var h=$('select[name="snapshot"]');b&&h.html("");for(var m=0,t=f.length,r,y;m<t;m++)r=f[m],y=this.snapshotURLToDate(r),$("<option />",{value:r,text:y}).prependTo(h).attr("selected","selected")},loadAndRenderGraphs:function(f){var b=this.showPane("graphs"," ");
this.load(f,{cache:!1}).then(function(f){var h="All Graphs",t;f.title?(t=!1,h=f.title):t=!0;b.append("<h2>"+h+"</h2>");var h=f.graphs,r=0,y=h.length,E=$("#templates .graph").clone(),I,C;if(0==f.graphs.length)return b.append($("#graphs-empty")),!0;for(;r<y;r++)I=h[r],C=new Graphiti.Graph(JSON.parse(I.json)),E.clone().find(".title").text(I.title||"Untitled").end().find("a.edit").attr("href","/graphs/"+I.uuid).end().show().appendTo(b).each(function(){C.image($(this).find("img"));0==(r+1)%2&&$(this).addClass("last");
t?$(this).find(".delete").attr("action","/graphs/"+I.uuid):$(this).find(".delete").attr("action","/graphs/dashboards").find("[name=dashboard]").val(f.slug).end().find("[name=uuid]").val(I.uuid).end().find("[type=submit]").val("Remove")})})},loadAndRenderDashboards:function(){var f=this.showPane("dashboards","<h2>Dashboards</h2>"),b=this;this.load("/dashboards.js",{cache:!1}).then(function(h){h=h.dashboards;var m=0,t=h.length,r,y,E=$("#templates .dashboard").clone();if(0==h.length)f.append($("#dashboards-empty"));
else for(;m<t;m++)r=h[m],y=0==(m+1)%2?"alt":"",E.clone().find("a.view").attr("href","/dashboards/"+r.slug).end().find(".title").text(r.title).end().find(".graphs-count").text(r.graphs.length).end().find(".updated-at").text(b.timestamp(r.updated_at)).end().find("form.delete").attr("action","/dashboards/"+r.slug).end().addClass(y).show().appendTo(f)})},loadAndRenderSnapshots:function(){var f=this;this.load("/graphs/"+this.params.uuid+".js",{cache:!1}).then(function(b){var h=f.showPane("snapshots","<h2>"+
b.title+" - Snapshots</h2>");b=b.snapshots;for(var m=0,t=b.length,r,y=$("#templates .snapshot").clone();m<t;m++)r=b[m],y.clone().find("a.view").attr("href",r).end().find("img").attr("src",r).end().find("h3.title").text(f.snapshotURLToDate(r)).end().show().appendTo(h)})},snapshotURLToDate:function(f){var b;try{b=(new Date(parseInt(f.match(/\/(\d+)\.png/)[1],10))).toString()}catch(h){}return b},bindEditorPanes:function(){var f=this;$("#editor-pane").delegate(".edit-group .edit-head","click",function(b){b.preventDefault();
b=$(this).add($(this).siblings(".edit-body"));var h=b.parents(".edit-group").attr("data-group");b.is(".closed")?(b.removeClass("closed").addClass("open"),f.session("groups:"+h,!0)):(b.addClass("closed").removeClass("open"),f.session("groups:"+h,!1))})},toggleEditorPanesByPreference:function(){var f=this;$("#editor-pane .edit-group").each(function(){var b=$(this),h=b.attr("data-group"),m=b.find(".edit-head, .edit-body");f.session("groups:"+h,function(b){b?m.removeClass("closed").addClass("open"):m.removeClass("open").addClass("closed")})})},
confirmDelete:function(f){return confirm("Are you sure you want to delete this "+f+"? There is no undo. You may regret this later.")},showSaving:function(f){this.$button=$(this.target).find("input");this.original_button_val=this.$button.val();this.$button.val("Saving").attr("disabled","disabled")},hideSaving:function(){this.$button.val(this.original_button_val).removeAttr("disabled")}});this.before({only:{verb:"get"}},function(){this.showPane("loading")});this.get("/graphs/new",function(f){this.session("lastPreview",
Graphiti.defaultGraph,function(){f.redirect("/graphs/workspace")})});this.get("/graphs/workspace",function(f){this.session("lastPreview",function(b){f.showEditor(b)})});this.get("/graphs/:uuid",function(f){this.load("/graphs/"+this.params.uuid+".js",{cache:!1}).then(function(b){f.buildSnapshotsDropdown(b.snapshots,!0);f.showEditor(b.json,f.params.uuid)})});this.get("/graphs/:uuid/snapshots",function(f){this.params.snapshot?(window.open(this.params.snapshot,this.snapshotURLToDate(this.params.snapshot)),
this.redirect("/graphs",this.params.uuid)):this.loadAndRenderSnapshots()});this.get("/graphs",function(f){this.loadAndRenderGraphs("/graphs.js")});this.get("/dashboards/:slug",function(f){this.loadAndRenderGraphs("/dashboards/"+this.params.slug+".js")});this.get("/dashboards",function(f){this.loadAndRenderDashboards()});this.del("/dashboards/:slug",function(f){var b=this.params.slug;this.confirmDelete("dashboard")&&$.ajax({type:"post",data:"_method=DELETE",url:"/dashboards/"+b,complete:function(b){f.loadAndRenderDashboards()}})});
this.del("/graphs/dashboards",function(f){this.confirmDelete("graph")&&$.ajax({type:"post",data:$(f.target).serialize()+"&_method=DELETE",url:"/graphs/dashboards",success:function(b){f.app.refresh()}})});this.del("/graphs/:uuid",function(f){this.confirmDelete("graph")&&$.ajax({type:"post",data:"_method=DELETE",url:"/graphs/"+this.params.uuid,success:function(b){f.app.refresh()}})});this.get("",function(f){this.loadAndRenderDashboards()});this.post("/graphs",function(f){f.showSaving();(new Graphiti.Graph(this.getEditorJSON())).save(function(b){f.hideSaving();
Sammy.log("created",b);b.uuid&&f.redirect("/graphs/"+b.uuid)})});this.put("/graphs/options",function(f){this.saveOptions(this.params.options)});this.post("/graphs/:uuid/snapshots",function(f){f.showSaving();(new Graphiti.Graph(this.getEditorJSON())).snapshot(this.params.uuid,function(b){f.hideSaving();Sammy.log("snapshotted",b);b&&f.buildSnapshotsDropdown([b])})});this.put("/graphs/:uuid",function(f){f.showSaving();(new Graphiti.Graph(this.getEditorJSON())).save(this.params.uuid,function(b){Sammy.log("updated",
b);f.hideSaving();f.redrawPreview()})});this.post("/graphs/dashboards",function(f){var b=$(this.target);$.post("/graphs/dashboards",b.serialize(),function(b){f.buildDashboardsDropdown(b.uuid)})});this.post("/dashboards",function(f){var b=$(this.target);$.post("/dashboards",b.serialize(),function(h){b.find("input[type=text]").val("");f.buildDashboardsDropdown();f.trigger("toggle-dashboard-creation",{target:b.parents(".dashboard")})})});this.bind("toggle-dashboard-creation",function(f,b){var h=$(b.target),
m=h.find(".new-dashboard"),h=h.find(".add-to-dashboard");m.is(":visible")?(m.hide(),h.show()):(m.show(),h.hide())});this.registerShortcut("redraw-preview","g",function(){this.redrawPreview()});this.bind("run",function(){var f=this;this.bindEditorPanes();this.bindMetricsList();var b=function(){""==$(this).val().toString()?$(this).siblings(".save").attr("disabled","disabled"):$(this).siblings(".save").removeAttr("disabled")};$('select[name="dashboard"]').live("click",b).live("focus",b).live("blur",
b);$('.dashboard button[rel=create], .dashboard a[rel="cancel"]').live("click",function(b){b.preventDefault();f.trigger("toggle-dashboard-creation",{target:$(this).parents(".dashboard")})});$("#graph-actions").delegate(".redraw","click",function(b){b.preventDefault();f.redrawPreview()})})});$(function(){app.run()});Graphiti=window.Graphiti||{};
Graphiti.startRefresh=function(h){this.refreshTimer=setInterval(function(){$("#graphs-pane div.graph img.ggraph, div#graph-preview img").each(function(){var f=$(this),b=f.attr("src");Sammy.log("Refreshing from",b);b.replace(/(^.*_timestamp_=).*/,function(b,f){return f+(new Date).getTime()+"000#.png"});f.attr("src",b)})},1E3*h)};Graphiti.stopRefresh=function(){clearInterval(this.refreshTimer)};
Graphiti.setRefresh=function(){$("#auto-refresh").prop("checked")?(Sammy.log("starting"),this.startRefresh($("#auto-refresh").data("interval"))):(Sammy.log("stop"),this.stopRefresh())};$(Graphiti.setRefresh.bind(Graphiti));$("#auto-refresh").change(Graphiti.setRefresh.bind(Graphiti));Graphiti=window.Graphiti||{};Graphiti.initTimeFramePicker=function(){var h=Graphiti.getTimeFrame();h&&$("#time-frame option[value='"+h+"']").attr("selected","selected");$("#time-frame").change(Graphiti.setTimeFrame)};
Graphiti.getTimeFrame=function(){return localStorage.getItem("time-frame")};Graphiti.timeFrameOptions=function(){var h=Graphiti.getTimeFrame();return h?(h=h.split(","),{from:h[0],until:h[1]}):{}};Graphiti.setTimeFrame=function(){localStorage.setItem("time-frame",$(this).val());location.reload()};$(Graphiti.initTimeFramePicker);
